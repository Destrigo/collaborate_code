{"ast":null,"code":"import _objectSpread from\"/home/marco/workstation/stormbrainer/frontend_lvb_stormbrainer/stormbrainer/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// frontend/src/components/galaxy/GalaxyView.jsx\nimport React,{useState,useEffect,useRef}from'react';import{getProblems,createProblem,getSolutions,createSolution,rateSolution}from'../../services/api';import Modal from'../common/Modal';import{Star,Plus,X,Send,ZoomIn,ZoomOut,Maximize2}from'lucide-react';// ============================================\n// DRAGGABLE SOLAR SYSTEM COMPONENT\n// ============================================\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const DraggableSolarSystem=_ref=>{let{problems,solutions,onProblemClick,onSolutionClick}=_ref;const containerRef=useRef(null);const[isDragging,setIsDragging]=useState(false);const[position,setPosition]=useState({x:0,y:0});const[dragStart,setDragStart]=useState({x:0,y:0});const[zoom,setZoom]=useState(1);// Always call useEffect unconditionally\nuseEffect(()=>{if(isDragging){window.addEventListener('mousemove',handleMouseMove);window.addEventListener('mouseup',handleMouseUp);return()=>{window.removeEventListener('mousemove',handleMouseMove);window.removeEventListener('mouseup',handleMouseUp);};}},[isDragging,dragStart]);const handleMouseDown=e=>{if(e.target===containerRef.current||e.target.closest('.draggable-area')){setIsDragging(true);setDragStart({x:e.clientX-position.x,y:e.clientY-position.y});}};const handleMouseMove=e=>{if(isDragging){setPosition({x:e.clientX-dragStart.x,y:e.clientY-dragStart.y});}};const handleMouseUp=()=>setIsDragging(false);const handleZoomIn=()=>setZoom(prev=>Math.min(prev+0.2,3));const handleZoomOut=()=>setZoom(prev=>Math.max(prev-0.2,0.5));const handleReset=()=>{setPosition({x:0,y:0});setZoom(1);};return/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-full h-[90vh] bg-gradient-to-b from-indigo-950 via-purple-900 to-black rounded-xl overflow-hidden\",children:[(!problems||problems.length===0)&&/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-full text-gray-500 dark:text-gray-400\",children:\"No problems in this galaxy yet\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute top-4 right-4 z-50 flex flex-col gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleZoomIn,className:\"p-2 bg-gray-800/80 hover:bg-gray-700 rounded-lg text-white backdrop-blur-sm transition-colors\",title:\"Zoom In\",children:/*#__PURE__*/_jsx(ZoomIn,{size:20})}),/*#__PURE__*/_jsx(\"button\",{onClick:handleZoomOut,className:\"p-2 bg-gray-800/80 hover:bg-gray-700 rounded-lg text-white backdrop-blur-sm transition-colors\",title:\"Zoom Out\",children:/*#__PURE__*/_jsx(ZoomOut,{size:20})}),/*#__PURE__*/_jsx(\"button\",{onClick:handleReset,className:\"p-2 bg-gray-800/80 hover:bg-gray-700 rounded-lg text-white backdrop-blur-sm transition-colors\",title:\"Reset View\",children:/*#__PURE__*/_jsx(Maximize2,{size:20})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute top-4 left-4 z-50 px-3 py-2 bg-gray-800/80 rounded-lg text-white text-sm backdrop-blur-sm\",children:[\"Zoom: \",(zoom*100).toFixed(0),\"%\"]}),problems&&problems.length>0&&/*#__PURE__*/_jsxs(\"div\",{ref:containerRef,className:\"draggable-area absolute inset-0 cursor-grab active:cursor-grabbing\",onMouseDown:handleMouseDown,style:{transform:\"translate(\".concat(position.x,\"px, \").concat(position.y,\"px) scale(\").concat(zoom,\")\"),transition:isDragging?'none':'transform 0.1s ease-out',width:'300%',height:'300%',left:'-100%',top:'-100%'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 pointer-events-none\",children:[...Array(300)].map((_,i)=>/*#__PURE__*/_jsx(\"div\",{className:\"absolute rounded-full bg-white animate-pulse\",style:{width:Math.random()*2+1+'px',height:Math.random()*2+1+'px',top:Math.random()*100+'%',left:Math.random()*100+'%',opacity:Math.random()*0.7+0.3,animationDuration:Math.random()*3+2+'s',animationDelay:Math.random()*2+'s'}},i))}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-10 pointer-events-none\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 rounded-full bg-yellow-400 opacity-30 blur-3xl animate-pulse\",style:{width:'200px',height:'200px',margin:'-50px'}}),/*#__PURE__*/_jsx(\"div\",{className:\"relative w-32 h-32 rounded-full bg-gradient-to-br from-yellow-300 via-yellow-400 to-orange-500 shadow-2xl flex items-center justify-center animate-pulse\",children:/*#__PURE__*/_jsx(Star,{className:\"w-16 h-16 text-white\",fill:\"white\"})})]})}),problems.map((problem,index)=>/*#__PURE__*/_jsx(OrbitingPlanetWithAsteroids,{problem:problem,solutions:solutions[problem.id]||[],orbitIndex:index,totalPlanets:problems.length,onProblemClick:onProblemClick,onSolutionClick:onSolutionClick},problem.id))]})]});};// Planet with Orbiting Asteroid Solutions\nconst OrbitingPlanetWithAsteroids=_ref2=>{let{problem,solutions,orbitIndex,totalPlanets,onProblemClick,onSolutionClick}=_ref2;const[rotation,setRotation]=useState(0);const baseOrbitRadius=60;const orbitRadius=baseOrbitRadius+orbitIndex*80;const baseSize=50;const planetSize=Math.min(baseSize+(problem.stars||0)*2,100);const startAngle=orbitIndex*360/totalPlanets;useEffect(()=>{const interval=setInterval(()=>{setRotation(prev=>(prev+0.1)%360);},50);return()=>clearInterval(interval);},[]);const angle=(rotation+startAngle)*Math.PI/180;const x=50+orbitRadius/4*Math.cos(angle);const y=50+orbitRadius/4*Math.sin(angle);const planetColors=['from-blue-400 to-blue-600','from-red-400 to-red-600','from-green-400 to-green-600','from-purple-400 to-purple-600','from-pink-400 to-pink-600','from-cyan-400 to-cyan-600','from-orange-400 to-orange-600','from-teal-400 to-teal-600'];return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 rounded-full border border-white/10 pointer-events-none\",style:{width:\"\".concat(orbitRadius/2,\"%\"),height:\"\".concat(orbitRadius/2,\"%\")}}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute\",style:{left:\"\".concat(x,\"%\"),top:\"\".concat(y,\"%\"),transform:'translate(-50%, -50%)'},children:[solutions.map((solution,sIdx)=>/*#__PURE__*/_jsx(Asteroid,{solution:solution,asteroidIndex:sIdx,totalAsteroids:solutions.length,planetSize:planetSize,rotation:rotation,onClick:()=>onSolutionClick(solution,problem)},solution.id)),/*#__PURE__*/_jsxs(\"div\",{className:\"relative cursor-pointer transition-transform hover:scale-110 z-20\",onClick:e=>{e.stopPropagation();onProblemClick(problem);},children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 rounded-full bg-gradient-to-br \".concat(planetColors[orbitIndex%planetColors.length],\" opacity-40 blur-xl pointer-events-none\"),style:{width:\"\".concat(planetSize+30,\"px\"),height:\"\".concat(planetSize+30,\"px\"),margin:'-15px'}}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative rounded-full bg-gradient-to-br \".concat(planetColors[orbitIndex%planetColors.length],\" shadow-2xl flex items-center justify-center border-2 border-white/20\"),style:{width:\"\".concat(planetSize,\"px\"),height:\"\".concat(planetSize,\"px\")},children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 rounded-full opacity-20 bg-gradient-to-br from-white/30 via-transparent to-black/30\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute -top-10 left-1/2 -translate-x-1/2 opacity-0 hover:opacity-100 transition-opacity bg-black/90 px-3 py-1 rounded text-white text-xs whitespace-nowrap pointer-events-none z-30\",children:problem.title})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute -bottom-3 -right-3 bg-yellow-400 rounded-full px-2 py-1 text-xs font-bold flex items-center gap-1 shadow-lg pointer-events-none\",children:[/*#__PURE__*/_jsx(Star,{size:12,fill:\"currentColor\",className:\"text-yellow-600\"}),problem.stars||0]}),solutions.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute -top-3 -right-3 bg-purple-500 rounded-full w-6 h-6 flex items-center justify-center text-white text-xs font-bold shadow-lg pointer-events-none\",children:solutions.length})]})]})]});};// Asteroid (Solution) Component\nconst Asteroid=_ref3=>{let{solution,asteroidIndex,totalAsteroids,planetSize,rotation,onClick}=_ref3;const asteroidOrbitRadius=planetSize/2+30+asteroidIndex*8;const asteroidAngle=(rotation*2+asteroidIndex*(360/totalAsteroids))*Math.PI/180;const asteroidX=asteroidOrbitRadius*Math.cos(asteroidAngle);const asteroidY=asteroidOrbitRadius*Math.sin(asteroidAngle);const asteroidSize=Math.min(12+(solution.stars||0)*2,24);return/*#__PURE__*/_jsxs(\"div\",{className:\"absolute cursor-pointer transition-transform hover:scale-150 z-10\",style:{left:\"\".concat(asteroidX,\"px\"),top:\"\".concat(asteroidY,\"px\"),transform:'translate(-50%, -50%)'},onClick:e=>{e.stopPropagation();onClick();},children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 rounded-full bg-gray-400 opacity-40 blur-md pointer-events-none\",style:{width:\"\".concat(asteroidSize+10,\"px\"),height:\"\".concat(asteroidSize+10,\"px\"),margin:'-5px'}}),/*#__PURE__*/_jsx(\"div\",{className:\"relative rounded-full bg-gradient-to-br from-gray-400 to-gray-600 shadow-lg border border-gray-300/30\",style:{width:\"\".concat(asteroidSize,\"px\"),height:\"\".concat(asteroidSize,\"px\"),clipPath:'polygon(30% 0%, 70% 0%, 100% 30%, 100% 70%, 70% 100%, 30% 100%, 0% 70%, 0% 30%)'}}),solution.stars>0&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute -top-1 -right-1 bg-yellow-400 rounded-full w-4 h-4 flex items-center justify-center text-xs font-bold pointer-events-none\",children:solution.stars}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute -top-8 left-1/2 -translate-x-1/2 opacity-0 hover:opacity-100 transition-opacity bg-black/90 px-2 py-1 rounded text-white text-xs whitespace-nowrap pointer-events-none z-40\",children:[\"Solution by \",solution.author_name||solution.author_username]})]});};// ============================================\n// MAIN GALAXY VIEW COMPONENT\n// ============================================\nconst GalaxyView=_ref4=>{var _solutions$selectedPr;let{user,galaxy,goBack}=_ref4;const[problems,setProblems]=useState([]);const[solutions,setSolutions]=useState({});const[selectedProblem,setSelectedProblem]=useState(null);const[selectedSolution,setSelectedSolution]=useState(null);const[isProblemModalOpen,setIsProblemModalOpen]=useState(false);const[newProblem,setNewProblem]=useState({title:'',description:''});const[newSolutionText,setNewSolutionText]=useState('');const[loading,setLoading]=useState(true);// Load problems for THIS specific galaxy only\nuseEffect(()=>{const loadProblems=async()=>{try{setLoading(true);const p=await getProblems(galaxy.id);setProblems(p);// Load solutions for all problems\nconst solutionsMap={};for(const problem of p){try{const sols=await getSolutions(problem.id);solutionsMap[problem.id]=sols;}catch(err){console.error(\"Failed to load solutions for problem \".concat(problem.id,\":\"),err);solutionsMap[problem.id]=[];}}setSolutions(solutionsMap);}catch(err){alert(\"Failed to load problems: \".concat(err.message));}finally{setLoading(false);}};loadProblems();},[galaxy.id]);// Create New Problem (Owner only)\nconst handleCreateProblem=async e=>{e.preventDefault();try{const created=await createProblem(galaxy.id,newProblem.title,newProblem.description);setProblems([...problems,created]);setSolutions(_objectSpread(_objectSpread({},solutions),{},{[created.id]:[]}));setIsProblemModalOpen(false);setNewProblem({title:'',description:''});}catch(error){alert(\"Error creating problem: \".concat(error.message));}};// Handle planet click - show problem details\nconst handleProblemClick=problem=>{setSelectedProblem(problem);setSelectedSolution(null);};// Handle asteroid click - show solution details\nconst handleSolutionClick=(solution,problem)=>{setSelectedSolution(_objectSpread(_objectSpread({},solution),{},{problemTitle:problem.title}));setSelectedProblem(null);};// Create New Solution\nconst handleCreateSolution=async()=>{if(!newSolutionText.trim()||!selectedProblem)return;try{const created=await createSolution(selectedProblem.id,newSolutionText);setSolutions(_objectSpread(_objectSpread({},solutions),{},{[selectedProblem.id]:[...(solutions[selectedProblem.id]||[]),created]}));setNewSolutionText('');}catch(error){alert(\"Error submitting solution: \".concat(error.message));}};// Handle Rating a Solution\nconst handleRateSolution=async(solutionId,problemId)=>{try{await rateSolution(solutionId,1);// Reload solutions for this problem\nconst updatedSolutions=await getSolutions(problemId);setSolutions(_objectSpread(_objectSpread({},solutions),{},{[problemId]:updatedSolutions}));// Update selected solution if it's the one being rated\nif(selectedSolution&&selectedSolution.id===solutionId){const updated=updatedSolutions.find(s=>s.id===solutionId);if(updated){setSelectedSolution(_objectSpread(_objectSpread({},updated),{},{problemTitle:selectedSolution.problemTitle}));}}}catch(error){alert(\"Error rating solution: \".concat(error.message));}};const isOwner=user.id===galaxy.owner_id;return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"pb-4 border-b border-gray-300 dark:border-gray-700\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-500 mb-2\",children:galaxy.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-400\",children:galaxy.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4 mt-2 text-sm text-gray-500 dark:text-gray-400\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Owner: \",galaxy.owner_name]}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u2022\"}),/*#__PURE__*/_jsxs(\"span\",{children:[galaxy.member_count||0,\" members\"]}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u2022\"}),/*#__PURE__*/_jsxs(\"span\",{children:[problems.length,\" problems\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[isOwner&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setIsProblemModalOpen(true),className:\"px-4 py-2 text-white bg-purple-600 rounded-lg shadow-md hover:bg-purple-700 transition-colors flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Plus,{size:18}),\" Create Problem\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:goBack,className:\"px-4 py-2 text-white bg-gray-500 dark:bg-gray-600 rounded-lg shadow-md hover:bg-gray-600 dark:hover:bg-gray-700 transition-colors\",children:\"\\u2190 Back\"})]})]})}),loading?/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-[80vh] text-gray-400\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-purple-500 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading galaxy...\"})]})}):problems.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center justify-center h-[80vh] text-gray-400 dark:text-gray-500\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xl mb-4\",children:\"No problems in this galaxy yet\"}),isOwner&&/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:\"Click \\\"Create Problem\\\" to add the first one!\"})]}):/*#__PURE__*/_jsx(DraggableSolarSystem,{problems:problems,solutions:solutions,onProblemClick:handleProblemClick,onSolutionClick:handleSolutionClick}),selectedProblem&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black/80 flex items-center justify-center z-[100] p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-800 rounded-xl p-6 max-w-2xl w-full max-h-[80vh] overflow-y-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-2 text-gray-900 dark:text-white\",children:selectedProblem.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-400\",children:selectedProblem.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mt-2\",children:[/*#__PURE__*/_jsx(Star,{size:16,fill:\"gold\",className:\"text-yellow-400\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-bold text-gray-700 dark:text-gray-300\",children:[selectedProblem.stars||0,\" stars\"]})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedProblem(null),className:\"text-gray-400 hover:text-gray-600 dark:hover:text-white\",children:/*#__PURE__*/_jsx(X,{size:24})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-t border-gray-200 dark:border-gray-700 pt-4\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-xl font-bold mb-4 text-gray-900 dark:text-white\",children:[\"Solutions (\",((_solutions$selectedPr=solutions[selectedProblem.id])===null||_solutions$selectedPr===void 0?void 0:_solutions$selectedPr.length)||0,\")\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"textarea\",{value:newSolutionText,onChange:e=>setNewSolutionText(e.target.value),placeholder:\"Share your solution...\",className:\"w-full bg-gray-100 dark:bg-gray-700 rounded-lg p-3 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 resize-none border border-gray-300 dark:border-gray-600\",rows:3}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleCreateSolution,className:\"mt-2 bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors\",children:[/*#__PURE__*/_jsx(Send,{size:16}),\" Submit Solution\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:!solutions[selectedProblem.id]||solutions[selectedProblem.id].length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 dark:text-gray-400 text-center py-4\",children:\"No solutions yet. Be the first! Your solution will appear as an asteroid orbiting this planet.\"}):solutions[selectedProblem.id].map(solution=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 dark:bg-gray-700 rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-purple-600 dark:text-purple-400\",children:solution.author_name||solution.author_username}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center gap-1 text-gray-700 dark:text-gray-300\",children:[/*#__PURE__*/_jsx(Star,{size:14,fill:\"gold\",className:\"text-yellow-400\"}),solution.stars||0]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleRateSolution(solution.id,selectedProblem.id),className:\"bg-yellow-500 hover:bg-yellow-600 px-2 py-1 rounded text-xs transition-colors text-white\",children:\"+1 \\u2B50\"})]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700 dark:text-gray-300\",children:solution.text})]},solution.id))})]})]})}),selectedSolution&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black/80 flex items-center justify-center z-[100] p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-800 rounded-xl p-6 max-w-md w-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-xl font-bold text-gray-900 dark:text-white mb-1\",children:[\"Solution by \",selectedSolution.author_name||selectedSolution.author_username]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500 dark:text-gray-400\",children:[\"For: \",selectedSolution.problemTitle]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedSolution(null),className:\"text-gray-400 hover:text-gray-600 dark:hover:text-white\",children:/*#__PURE__*/_jsx(X,{size:24})})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700 dark:text-gray-300 mb-4\",children:selectedSolution.text}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Star,{size:16,fill:\"gold\",className:\"text-yellow-400\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-700 dark:text-gray-300\",children:[selectedSolution.stars||0,\" stars\"]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleRateSolution(selectedSolution.id,selectedSolution.problem_id),className:\"bg-yellow-500 hover:bg-yellow-600 px-3 py-1.5 rounded text-sm transition-colors text-white\",children:\"+1 \\u2B50 Give Star\"})]})]})}),isProblemModalOpen&&/*#__PURE__*/_jsx(Modal,{isOpen:isProblemModalOpen,onClose:()=>setIsProblemModalOpen(false),title:\"Create a New Problem\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Problem Title\",value:newProblem.title,onChange:e=>setNewProblem(_objectSpread(_objectSpread({},newProblem),{},{title:e.target.value})),className:\"w-full p-3 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white border border-gray-300 dark:border-gray-600\"}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Detailed Problem Description...\",value:newProblem.description,onChange:e=>setNewProblem(_objectSpread(_objectSpread({},newProblem),{},{description:e.target.value})),rows:5,className:\"w-full p-3 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white border border-gray-300 dark:border-gray-600\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCreateProblem,className:\"w-full p-3 bg-purple-600 text-white font-semibold rounded-lg hover:bg-purple-700 transition-colors\",children:\"Create Problem\"})]})})]});};export default GalaxyView;// import React, { useState } from 'react';\n// import { \n//     getProblems, \n//     createProblem, \n//     getSolutions, \n//     createSolution, \n//     rateSolution \n// } from '../../services/api';\n// import Modal from '../common/Modal';\n// import { Star, Plus, X, Send } from 'lucide-react';\n// const GalaxyView = ({ user, galaxy, goBack, SolarSystemGalaxy }) => {\n//     const [problems, setProblems] = useState([]);\n//     const [solutions, setSolutions] = useState([]);\n//     const [currentProblem, setCurrentProblem] = useState(null);\n//     const [isProblemModalOpen, setIsProblemModalOpen] = useState(false);\n//     const [isSolutionModalOpen, setIsSolutionModalOpen] = useState(false);\n//     const [newProblem, setNewProblem] = useState({ title: '', description: '' });\n//     const [newSolution, setNewSolution] = useState('');\n//     const [loading, setLoading] = useState(true);\n//     // Load problems for THIS specific galaxy only\n//     React.useEffect(() => {\n//         const loadProblems = async () => {\n//             try {\n//                 setLoading(true);\n//                 // This fetches ONLY problems belonging to the current galaxy\n//                 const p = await getProblems(galaxy.id);\n//                 setProblems(p);\n//             } catch (err) {\n//                 alert(`Failed to load problems: ${err.message}`);\n//             } finally {\n//                 setLoading(false);\n//             }\n//         };\n//         loadProblems();\n//     }, [galaxy.id]);\n//     // Load solutions for a selected problem\n//     const loadSolutions = async (problemId) => {\n//         try {\n//             const s = await getSolutions(problemId);\n//             setSolutions(s);\n//         } catch (err) {\n//             alert(`Failed to load solutions: ${err.message}`);\n//         }\n//     };\n//     // Open Problem Detail/Solutions View\n//     const handleViewProblem = async (problem) => {\n//         setCurrentProblem(problem);\n//         await loadSolutions(problem.id);\n//     };\n//     // Close Problem Detail View\n//     const handleCloseProblemView = () => {\n//         setCurrentProblem(null);\n//         setSolutions([]);\n//     };\n//     // Create New Problem (Owner only)\n//     const handleCreateProblem = async (e) => {\n//         e.preventDefault();\n//         try {\n//             const created = await createProblem(galaxy.id, newProblem.title, newProblem.description);\n//             setProblems([...problems, created]);\n//             setIsProblemModalOpen(false);\n//             setNewProblem({ title: '', description: '' });\n//         } catch (error) {\n//             alert(`Error creating problem: ${error.message}`);\n//         }\n//     };\n//     // Create New Solution\n//     const handleCreateSolution = async (e) => {\n//         e.preventDefault();\n//         if (!currentProblem) return;\n//         try {\n//             const created = await createSolution(currentProblem.id, newSolution);\n//             setSolutions([...solutions, created]);\n//             setIsSolutionModalOpen(false);\n//             setNewSolution('');\n//         } catch (error) {\n//             alert(`Error submitting solution: ${error.message}`);\n//         }\n//     };\n//     // Handle Rating a Solution (Star)\n//     const handleRateSolution = async (solutionId) => {\n//         try {\n//             await rateSolution(solutionId, 1);\n//             // Reload solutions to get updated stars\n//             await loadSolutions(currentProblem.id);\n//         } catch (error) {\n//             alert(`Error rating solution: ${error.message}`);\n//         }\n//     };\n//     const isOwner = user.id === galaxy.owner_id;\n//     return (\n//         <div className=\"space-y-6\">\n//             {/* Header */}\n//             <header className=\"pb-4 border-b border-gray-300 dark:border-gray-700\">\n//                 <div className=\"flex justify-between items-start mb-4\">\n//                     <div>\n//                         <h2 className=\"text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-500 mb-2\">\n//                             {galaxy.name}\n//                         </h2>\n//                         <p className=\"text-gray-600 dark:text-gray-400\">{galaxy.description}</p>\n//                         <div className=\"flex items-center gap-4 mt-2 text-sm text-gray-500 dark:text-gray-400\">\n//                             <span>Owner: {galaxy.owner_name}</span>\n//                             <span>‚Ä¢</span>\n//                             <span>{galaxy.member_count || 0} members</span>\n//                             <span>‚Ä¢</span>\n//                             <span>{problems.length} problems</span>\n//                         </div>\n//                     </div>\n//                     <div className=\"flex items-center gap-3\">\n//                         {isOwner && (\n//                             <button\n//                                 onClick={() => setIsProblemModalOpen(true)}\n//                                 className=\"px-4 py-2 text-white bg-purple-600 rounded-lg shadow-md hover:bg-purple-700 transition-colors flex items-center gap-2\"\n//                             >\n//                                 <Plus size={18} /> Create Problem\n//                             </button>\n//                         )}\n//                         <button\n//                             onClick={goBack}\n//                             className=\"px-4 py-2 text-white bg-gray-500 dark:bg-gray-600 rounded-lg shadow-md hover:bg-gray-600 dark:hover:bg-gray-700 transition-colors\"\n//                         >\n//                             ‚Üê Back\n//                         </button>\n//                     </div>\n//                 </div>\n//             </header>\n//             {/* Solar System Visualization */}\n//             {loading ? (\n//                 <div className=\"flex items-center justify-center h-[80vh] text-gray-400\">\n//                     <div className=\"text-center\">\n//                         <div className=\"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-purple-500 mx-auto mb-4\"></div>\n//                         <p>Loading galaxy...</p>\n//                     </div>\n//                 </div>\n//             ) : problems.length === 0 ? (\n//                 <div className=\"flex flex-col items-center justify-center h-[80vh] text-gray-400 dark:text-gray-500\">\n//                     <p className=\"text-xl mb-4\">No problems in this galaxy yet</p>\n//                     {isOwner && (\n//                         <p className=\"text-sm\">Click \"Create Problem\" to add the first one!</p>\n//                     )}\n//                 </div>\n//             ) : (\n//                 <SolarSystemGalaxy \n//                     problems={problems}\n//                     onProblemClick={handleViewProblem}\n//                 />\n//             )}\n//             {/* Instructions */}\n//             <div className=\"mt-6 p-4 bg-gray-100 dark:bg-gray-800 rounded-lg\">\n//                 <p className=\"text-gray-600 dark:text-gray-300 text-sm md:text-base text-center\">\n//                     ‚òÄÔ∏è The <span className=\"text-yellow-500 font-bold\">Sun</span> represents your galaxy center\n//                     <span className=\"mx-2 md:mx-4\">‚Ä¢</span>\n//                     ü™ê <span className=\"text-blue-500 font-bold\">Planets</span> are problems orbiting around it\n//                     <span className=\"mx-2 md:mx-4\">‚Ä¢</span>\n//                     ‚≠ê <span className=\"text-yellow-500 font-bold\">Larger planets</span> = more stars\n//                     <span className=\"mx-2 md:mx-4\">‚Ä¢</span>\n//                     üîÑ <span className=\"text-purple-500 font-bold\">Click</span> a planet to see solutions\n//                 </p>\n//             </div>\n//             {/* Problem Detail Modal */}\n//             {currentProblem && (\n//                 <div className=\"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4\">\n//                     <div className=\"bg-white dark:bg-gray-800 rounded-xl p-6 max-w-2xl w-full max-h-[80vh] overflow-y-auto\">\n//                         <div className=\"flex justify-between items-start mb-4\">\n//                             <div>\n//                                 <h2 className=\"text-2xl font-bold mb-2 text-gray-900 dark:text-white\">{currentProblem.title}</h2>\n//                                 <p className=\"text-gray-600 dark:text-gray-400\">{currentProblem.description}</p>\n//                                 <div className=\"flex items-center gap-2 mt-2\">\n//                                     <Star size={16} fill=\"gold\" className=\"text-yellow-400\" />\n//                                     <span className=\"font-bold text-gray-700 dark:text-gray-300\">{currentProblem.stars || 0} stars</span>\n//                                 </div>\n//                             </div>\n//                             <button\n//                                 onClick={handleCloseProblemView}\n//                                 className=\"text-gray-400 hover:text-gray-600 dark:hover:text-white\"\n//                             >\n//                                 <X size={24} />\n//                             </button>\n//                         </div>\n//                         {/* Solutions */}\n//                         <div className=\"border-t border-gray-200 dark:border-gray-700 pt-4\">\n//                             <h3 className=\"text-xl font-bold mb-4 text-gray-900 dark:text-white\">Solutions</h3>\n//                             {/* Submit Solution */}\n//                             <div className=\"mb-4\">\n//                                 <textarea\n//                                     value={newSolution}\n//                                     onChange={(e) => setNewSolution(e.target.value)}\n//                                     placeholder=\"Share your solution...\"\n//                                     className=\"w-full bg-gray-100 dark:bg-gray-700 rounded-lg p-3 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 resize-none border border-gray-300 dark:border-gray-600\"\n//                                     rows={3}\n//                                 />\n//                                 <button\n//                                     onClick={handleCreateSolution}\n//                                     className=\"mt-2 bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors\"\n//                                 >\n//                                     <Send size={16} /> Submit Solution\n//                                 </button>\n//                             </div>\n//                             {/* Solution List */}\n//                             <div className=\"space-y-3\">\n//                                 {solutions.length === 0 ? (\n//                                     <p className=\"text-gray-500 dark:text-gray-400 text-center py-4\">No solutions yet. Be the first!</p>\n//                                 ) : (\n//                                     solutions.map(solution => (\n//                                         <div key={solution.id} className=\"bg-gray-50 dark:bg-gray-700 rounded-lg p-4\">\n//                                             <div className=\"flex justify-between items-start mb-2\">\n//                                                 <span className=\"font-semibold text-purple-600 dark:text-purple-400\">\n//                                                     {solution.author_name || solution.author_username}\n//                                                 </span>\n//                                                 <div className=\"flex items-center gap-2\">\n//                                                     <span className=\"flex items-center gap-1 text-gray-700 dark:text-gray-300\">\n//                                                         <Star size={14} fill=\"gold\" className=\"text-yellow-400\" />\n//                                                         {solution.stars || 0}\n//                                                     </span>\n//                                                     <button\n//                                                         onClick={() => handleRateSolution(solution.id)}\n//                                                         className=\"bg-yellow-500 hover:bg-yellow-600 px-2 py-1 rounded text-xs transition-colors text-white\"\n//                                                     >\n//                                                         +1 ‚≠ê\n//                                                     </button>\n//                                                 </div>\n//                                             </div>\n//                                             <p className=\"text-gray-700 dark:text-gray-300\">{solution.text}</p>\n//                                         </div>\n//                                     ))\n//                                 )}\n//                             </div>\n//                         </div>\n//                     </div>\n//                 </div>\n//             )}\n//             {/* Create Problem Modal (Owner Only) */}\n//             {isProblemModalOpen && (\n//                 <Modal \n//                     isOpen={isProblemModalOpen} \n//                     onClose={() => setIsProblemModalOpen(false)} \n//                     title=\"Create a New Problem\"\n//                 >\n//                     <div className=\"space-y-4\">\n//                         <input\n//                             type=\"text\"\n//                             placeholder=\"Problem Title\"\n//                             value={newProblem.title}\n//                             onChange={(e) => setNewProblem({...newProblem, title: e.target.value})}\n//                             className=\"w-full p-3 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white border border-gray-300 dark:border-gray-600\"\n//                         />\n//                         <textarea\n//                             placeholder=\"Detailed Problem Description...\"\n//                             value={newProblem.description}\n//                             onChange={(e) => setNewProblem({...newProblem, description: e.target.value})}\n//                             rows={5}\n//                             className=\"w-full p-3 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white border border-gray-300 dark:border-gray-600\"\n//                         />\n//                         <button\n//                             onClick={handleCreateProblem}\n//                             className=\"w-full p-3 bg-purple-600 text-white font-semibold rounded-lg hover:bg-purple-700 transition-colors\"\n//                         >\n//                             Create Problem\n//                         </button>\n//                     </div>\n//                 </Modal>\n//             )}\n//         </div>\n//     );\n// };\n// export default GalaxyView;","map":{"version":3,"names":["React","useState","useEffect","useRef","getProblems","createProblem","getSolutions","createSolution","rateSolution","Modal","Star","Plus","X","Send","ZoomIn","ZoomOut","Maximize2","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","DraggableSolarSystem","_ref","problems","solutions","onProblemClick","onSolutionClick","containerRef","isDragging","setIsDragging","position","setPosition","x","y","dragStart","setDragStart","zoom","setZoom","window","addEventListener","handleMouseMove","handleMouseUp","removeEventListener","handleMouseDown","e","target","current","closest","clientX","clientY","handleZoomIn","prev","Math","min","handleZoomOut","max","handleReset","className","children","length","onClick","title","size","toFixed","ref","onMouseDown","style","transform","concat","transition","width","height","left","top","Array","map","_","i","random","opacity","animationDuration","animationDelay","margin","fill","problem","index","OrbitingPlanetWithAsteroids","id","orbitIndex","totalPlanets","_ref2","rotation","setRotation","baseOrbitRadius","orbitRadius","baseSize","planetSize","stars","startAngle","interval","setInterval","clearInterval","angle","PI","cos","sin","planetColors","solution","sIdx","Asteroid","asteroidIndex","totalAsteroids","stopPropagation","_ref3","asteroidOrbitRadius","asteroidAngle","asteroidX","asteroidY","asteroidSize","clipPath","author_name","author_username","GalaxyView","_ref4","_solutions$selectedPr","user","galaxy","goBack","setProblems","setSolutions","selectedProblem","setSelectedProblem","selectedSolution","setSelectedSolution","isProblemModalOpen","setIsProblemModalOpen","newProblem","setNewProblem","description","newSolutionText","setNewSolutionText","loading","setLoading","loadProblems","p","solutionsMap","sols","err","console","error","alert","message","handleCreateProblem","preventDefault","created","_objectSpread","handleProblemClick","handleSolutionClick","problemTitle","handleCreateSolution","trim","handleRateSolution","solutionId","problemId","updatedSolutions","updated","find","s","isOwner","owner_id","name","owner_name","member_count","value","onChange","placeholder","rows","text","problem_id","isOpen","onClose","type"],"sources":["/home/marco/workstation/stormbrainer/frontend_lvb_stormbrainer/stormbrainer/frontend/src/components/galaxy/GalaxyView.jsx"],"sourcesContent":["// frontend/src/components/galaxy/GalaxyView.jsx\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport { \n    getProblems, \n    createProblem, \n    getSolutions, \n    createSolution, \n    rateSolution \n} from '../../services/api';\nimport Modal from '../common/Modal';\nimport { Star, Plus, X, Send, ZoomIn, ZoomOut, Maximize2 } from 'lucide-react';\n\n// ============================================\n// DRAGGABLE SOLAR SYSTEM COMPONENT\n// ============================================\n\nconst DraggableSolarSystem = ({ problems, solutions, onProblemClick, onSolutionClick }) => {\n  const containerRef = useRef(null);\n  const [isDragging, setIsDragging] = useState(false);\n  const [position, setPosition] = useState({ x: 0, y: 0 });\n  const [dragStart, setDragStart] = useState({ x: 0, y: 0 });\n  const [zoom, setZoom] = useState(1);\n\n  // Always call useEffect unconditionally\n  useEffect(() => {\n    if (isDragging) {\n      window.addEventListener('mousemove', handleMouseMove);\n      window.addEventListener('mouseup', handleMouseUp);\n      return () => {\n        window.removeEventListener('mousemove', handleMouseMove);\n        window.removeEventListener('mouseup', handleMouseUp);\n      };\n    }\n  }, [isDragging, dragStart]);\n\n  const handleMouseDown = (e) => {\n    if (e.target === containerRef.current || e.target.closest('.draggable-area')) {\n      setIsDragging(true);\n      setDragStart({\n        x: e.clientX - position.x,\n        y: e.clientY - position.y\n      });\n    }\n  };\n\n  const handleMouseMove = (e) => {\n    if (isDragging) {\n      setPosition({\n        x: e.clientX - dragStart.x,\n        y: e.clientY - dragStart.y\n      });\n    }\n  };\n\n  const handleMouseUp = () => setIsDragging(false);\n\n  const handleZoomIn = () => setZoom(prev => Math.min(prev + 0.2, 3));\n  const handleZoomOut = () => setZoom(prev => Math.max(prev - 0.2, 0.5));\n  const handleReset = () => {\n    setPosition({ x: 0, y: 0 });\n    setZoom(1);\n  };\n\n  return (\n    <div className=\"relative w-full h-[90vh] bg-gradient-to-b from-indigo-950 via-purple-900 to-black rounded-xl overflow-hidden\">\n      {/* Show \"No problems\" message if empty */}\n      {(!problems || problems.length === 0) && (\n        <div className=\"flex items-center justify-center h-full text-gray-500 dark:text-gray-400\">\n          No problems in this galaxy yet\n        </div>\n      )}\n\n      {/* Controls */}\n      <div className=\"absolute top-4 right-4 z-50 flex flex-col gap-2\">\n        <button onClick={handleZoomIn} className=\"p-2 bg-gray-800/80 hover:bg-gray-700 rounded-lg text-white backdrop-blur-sm transition-colors\" title=\"Zoom In\">\n          <ZoomIn size={20} />\n        </button>\n        <button onClick={handleZoomOut} className=\"p-2 bg-gray-800/80 hover:bg-gray-700 rounded-lg text-white backdrop-blur-sm transition-colors\" title=\"Zoom Out\">\n          <ZoomOut size={20} />\n        </button>\n        <button onClick={handleReset} className=\"p-2 bg-gray-800/80 hover:bg-gray-700 rounded-lg text-white backdrop-blur-sm transition-colors\" title=\"Reset View\">\n          <Maximize2 size={20} />\n        </button>\n      </div>\n\n      {/* Zoom indicator */}\n      <div className=\"absolute top-4 left-4 z-50 px-3 py-2 bg-gray-800/80 rounded-lg text-white text-sm backdrop-blur-sm\">\n        Zoom: {(zoom * 100).toFixed(0)}%\n      </div>\n\n      {/* Only render solar system if problems exist */}\n      {problems && problems.length > 0 && (\n        <div\n          ref={containerRef}\n          className=\"draggable-area absolute inset-0 cursor-grab active:cursor-grabbing\"\n          onMouseDown={handleMouseDown}\n          style={{\n            transform: `translate(${position.x}px, ${position.y}px) scale(${zoom})`,\n            transition: isDragging ? 'none' : 'transform 0.1s ease-out',\n            width: '300%',\n            height: '300%',\n            left: '-100%',\n            top: '-100%'\n          }}\n        >\n          {/* Starry background */}\n          <div className=\"absolute inset-0 pointer-events-none\">\n            {[...Array(300)].map((_, i) => (\n              <div\n                key={i}\n                className=\"absolute rounded-full bg-white animate-pulse\"\n                style={{\n                  width: Math.random() * 2 + 1 + 'px',\n                  height: Math.random() * 2 + 1 + 'px',\n                  top: Math.random() * 100 + '%',\n                  left: Math.random() * 100 + '%',\n                  opacity: Math.random() * 0.7 + 0.3,\n                  animationDuration: Math.random() * 3 + 2 + 's',\n                  animationDelay: Math.random() * 2 + 's'\n                }}\n              />\n            ))}\n          </div>\n\n          {/* Central Sun */}\n          <div className=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-10 pointer-events-none\">\n            <div className=\"relative\">\n              <div className=\"absolute inset-0 rounded-full bg-yellow-400 opacity-30 blur-3xl animate-pulse\" style={{ width: '200px', height: '200px', margin: '-50px' }} />\n              <div className=\"relative w-32 h-32 rounded-full bg-gradient-to-br from-yellow-300 via-yellow-400 to-orange-500 shadow-2xl flex items-center justify-center animate-pulse\">\n                <Star className=\"w-16 h-16 text-white\" fill=\"white\" />\n              </div>\n            </div>\n          </div>\n\n          {/* Planets & Asteroids */}\n          {problems.map((problem, index) => (\n            <OrbitingPlanetWithAsteroids\n              key={problem.id}\n              problem={problem}\n              solutions={solutions[problem.id] || []}\n              orbitIndex={index}\n              totalPlanets={problems.length}\n              onProblemClick={onProblemClick}\n              onSolutionClick={onSolutionClick}\n            />\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\n// Planet with Orbiting Asteroid Solutions\nconst OrbitingPlanetWithAsteroids = ({ problem, solutions, orbitIndex, totalPlanets, onProblemClick, onSolutionClick }) => {\n  const [rotation, setRotation] = useState(0);\n\n  const baseOrbitRadius = 60;\n  const orbitRadius = baseOrbitRadius + (orbitIndex * 80);\n  \n  const baseSize = 50;\n  const planetSize = Math.min(baseSize + (problem.stars || 0) * 2, 100);\n  \n  const startAngle = (orbitIndex * 360) / totalPlanets;\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setRotation(prev => (prev + 0.1) % 360);\n    }, 50);\n\n    return () => clearInterval(interval);\n  }, []);\n\n  const angle = ((rotation + startAngle) * Math.PI) / 180;\n  const x = 50 + (orbitRadius / 4) * Math.cos(angle);\n  const y = 50 + (orbitRadius / 4) * Math.sin(angle);\n\n  const planetColors = [\n    'from-blue-400 to-blue-600',\n    'from-red-400 to-red-600',\n    'from-green-400 to-green-600',\n    'from-purple-400 to-purple-600',\n    'from-pink-400 to-pink-600',\n    'from-cyan-400 to-cyan-600',\n    'from-orange-400 to-orange-600',\n    'from-teal-400 to-teal-600',\n  ];\n\n  return (\n    <>\n      {/* Orbit path */}\n      <div\n        className=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 rounded-full border border-white/10 pointer-events-none\"\n        style={{\n          width: `${(orbitRadius / 2)}%`,\n          height: `${(orbitRadius / 2)}%`,\n        }}\n      />\n\n      {/* Planet Container with Asteroids */}\n      <div\n        className=\"absolute\"\n        style={{\n          left: `${x}%`,\n          top: `${y}%`,\n          transform: 'translate(-50%, -50%)',\n        }}\n      >\n        {/* Asteroid Solutions orbiting the planet */}\n        {solutions.map((solution, sIdx) => (\n          <Asteroid\n            key={solution.id}\n            solution={solution}\n            asteroidIndex={sIdx}\n            totalAsteroids={solutions.length}\n            planetSize={planetSize}\n            rotation={rotation}\n            onClick={() => onSolutionClick(solution, problem)}\n          />\n        ))}\n\n        {/* The Planet itself */}\n        <div\n          className=\"relative cursor-pointer transition-transform hover:scale-110 z-20\"\n          onClick={(e) => {\n            e.stopPropagation();\n            onProblemClick(problem);\n          }}\n        >\n          {/* Planet glow */}\n          <div\n            className={`absolute inset-0 rounded-full bg-gradient-to-br ${planetColors[orbitIndex % planetColors.length]} opacity-40 blur-xl pointer-events-none`}\n            style={{ width: `${planetSize + 30}px`, height: `${planetSize + 30}px`, margin: '-15px' }}\n          />\n\n          {/* Planet body */}\n          <div\n            className={`relative rounded-full bg-gradient-to-br ${planetColors[orbitIndex % planetColors.length]} shadow-2xl flex items-center justify-center border-2 border-white/20`}\n            style={{ width: `${planetSize}px`, height: `${planetSize}px` }}\n          >\n            <div className=\"absolute inset-0 rounded-full opacity-20 bg-gradient-to-br from-white/30 via-transparent to-black/30\" />\n            \n            {/* Planet title */}\n            <div className=\"absolute -top-10 left-1/2 -translate-x-1/2 opacity-0 hover:opacity-100 transition-opacity bg-black/90 px-3 py-1 rounded text-white text-xs whitespace-nowrap pointer-events-none z-30\">\n              {problem.title}\n            </div>\n          </div>\n\n          {/* Star rating badge */}\n          <div className=\"absolute -bottom-3 -right-3 bg-yellow-400 rounded-full px-2 py-1 text-xs font-bold flex items-center gap-1 shadow-lg pointer-events-none\">\n            <Star size={12} fill=\"currentColor\" className=\"text-yellow-600\" />\n            {problem.stars || 0}\n          </div>\n\n          {/* Solution count badge */}\n          {solutions.length > 0 && (\n            <div className=\"absolute -top-3 -right-3 bg-purple-500 rounded-full w-6 h-6 flex items-center justify-center text-white text-xs font-bold shadow-lg pointer-events-none\">\n              {solutions.length}\n            </div>\n          )}\n        </div>\n      </div>\n    </>\n  );\n};\n\n// Asteroid (Solution) Component\nconst Asteroid = ({ solution, asteroidIndex, totalAsteroids, planetSize, rotation, onClick }) => {\n  const asteroidOrbitRadius = planetSize / 2 + 30 + (asteroidIndex * 8);\n  const asteroidAngle = ((rotation * 2 + asteroidIndex * (360 / totalAsteroids)) * Math.PI) / 180;\n  \n  const asteroidX = asteroidOrbitRadius * Math.cos(asteroidAngle);\n  const asteroidY = asteroidOrbitRadius * Math.sin(asteroidAngle);\n  \n  const asteroidSize = Math.min(12 + (solution.stars || 0) * 2, 24);\n\n  return (\n    <div\n      className=\"absolute cursor-pointer transition-transform hover:scale-150 z-10\"\n      style={{\n        left: `${asteroidX}px`,\n        top: `${asteroidY}px`,\n        transform: 'translate(-50%, -50%)',\n      }}\n      onClick={(e) => {\n        e.stopPropagation();\n        onClick();\n      }}\n    >\n      {/* Asteroid glow */}\n      <div\n        className=\"absolute inset-0 rounded-full bg-gray-400 opacity-40 blur-md pointer-events-none\"\n        style={{ width: `${asteroidSize + 10}px`, height: `${asteroidSize + 10}px`, margin: '-5px' }}\n      />\n      \n      {/* Asteroid body */}\n      <div\n        className=\"relative rounded-full bg-gradient-to-br from-gray-400 to-gray-600 shadow-lg border border-gray-300/30\"\n        style={{ \n          width: `${asteroidSize}px`, \n          height: `${asteroidSize}px`,\n          clipPath: 'polygon(30% 0%, 70% 0%, 100% 30%, 100% 70%, 70% 100%, 30% 100%, 0% 70%, 0% 30%)'\n        }}\n      />\n      \n      {/* Stars indicator */}\n      {solution.stars > 0 && (\n        <div className=\"absolute -top-1 -right-1 bg-yellow-400 rounded-full w-4 h-4 flex items-center justify-center text-xs font-bold pointer-events-none\">\n          {solution.stars}\n        </div>\n      )}\n\n      {/* Tooltip */}\n      <div className=\"absolute -top-8 left-1/2 -translate-x-1/2 opacity-0 hover:opacity-100 transition-opacity bg-black/90 px-2 py-1 rounded text-white text-xs whitespace-nowrap pointer-events-none z-40\">\n        Solution by {solution.author_name || solution.author_username}\n      </div>\n    </div>\n  );\n};\n\n// ============================================\n// MAIN GALAXY VIEW COMPONENT\n// ============================================\n\nconst GalaxyView = ({ user, galaxy, goBack }) => {\n    const [problems, setProblems] = useState([]);\n    const [solutions, setSolutions] = useState({});\n    const [selectedProblem, setSelectedProblem] = useState(null);\n    const [selectedSolution, setSelectedSolution] = useState(null);\n    const [isProblemModalOpen, setIsProblemModalOpen] = useState(false);\n    const [newProblem, setNewProblem] = useState({ title: '', description: '' });\n    const [newSolutionText, setNewSolutionText] = useState('');\n    const [loading, setLoading] = useState(true);\n\n    // Load problems for THIS specific galaxy only\n    useEffect(() => {\n        const loadProblems = async () => {\n            try {\n                setLoading(true);\n                const p = await getProblems(galaxy.id);\n                setProblems(p);\n                \n                // Load solutions for all problems\n                const solutionsMap = {};\n                for (const problem of p) {\n                    try {\n                        const sols = await getSolutions(problem.id);\n                        solutionsMap[problem.id] = sols;\n                    } catch (err) {\n                        console.error(`Failed to load solutions for problem ${problem.id}:`, err);\n                        solutionsMap[problem.id] = [];\n                    }\n                }\n                setSolutions(solutionsMap);\n            } catch (err) {\n                alert(`Failed to load problems: ${err.message}`);\n            } finally {\n                setLoading(false);\n            }\n        };\n        loadProblems();\n    }, [galaxy.id]);\n\n    // Create New Problem (Owner only)\n    const handleCreateProblem = async (e) => {\n        e.preventDefault();\n        try {\n            const created = await createProblem(galaxy.id, newProblem.title, newProblem.description);\n            setProblems([...problems, created]);\n            setSolutions({...solutions, [created.id]: []});\n            setIsProblemModalOpen(false);\n            setNewProblem({ title: '', description: '' });\n        } catch (error) {\n            alert(`Error creating problem: ${error.message}`);\n        }\n    };\n\n    // Handle planet click - show problem details\n    const handleProblemClick = (problem) => {\n        setSelectedProblem(problem);\n        setSelectedSolution(null);\n    };\n\n    // Handle asteroid click - show solution details\n    const handleSolutionClick = (solution, problem) => {\n        setSelectedSolution({ ...solution, problemTitle: problem.title });\n        setSelectedProblem(null);\n    };\n\n    // Create New Solution\n    const handleCreateSolution = async () => {\n        if (!newSolutionText.trim() || !selectedProblem) return;\n\n        try {\n            const created = await createSolution(selectedProblem.id, newSolutionText);\n            setSolutions({\n                ...solutions,\n                [selectedProblem.id]: [...(solutions[selectedProblem.id] || []), created]\n            });\n            setNewSolutionText('');\n        } catch (error) {\n            alert(`Error submitting solution: ${error.message}`);\n        }\n    };\n    \n    // Handle Rating a Solution\n    const handleRateSolution = async (solutionId, problemId) => {\n        try {\n            await rateSolution(solutionId, 1);\n            \n            // Reload solutions for this problem\n            const updatedSolutions = await getSolutions(problemId);\n            setSolutions({\n                ...solutions,\n                [problemId]: updatedSolutions\n            });\n            \n            // Update selected solution if it's the one being rated\n            if (selectedSolution && selectedSolution.id === solutionId) {\n                const updated = updatedSolutions.find(s => s.id === solutionId);\n                if (updated) {\n                    setSelectedSolution({ ...updated, problemTitle: selectedSolution.problemTitle });\n                }\n            }\n        } catch (error) {\n            alert(`Error rating solution: ${error.message}`);\n        }\n    };\n\n    const isOwner = user.id === galaxy.owner_id;\n\n    return (\n        <div className=\"space-y-6\">\n            {/* Header */}\n            <header className=\"pb-4 border-b border-gray-300 dark:border-gray-700\">\n                <div className=\"flex justify-between items-start mb-4\">\n                    <div>\n                        <h2 className=\"text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-500 mb-2\">\n                            {galaxy.name}\n                        </h2>\n                        <p className=\"text-gray-600 dark:text-gray-400\">{galaxy.description}</p>\n                        <div className=\"flex items-center gap-4 mt-2 text-sm text-gray-500 dark:text-gray-400\">\n                            <span>Owner: {galaxy.owner_name}</span>\n                            <span>‚Ä¢</span>\n                            <span>{galaxy.member_count || 0} members</span>\n                            <span>‚Ä¢</span>\n                            <span>{problems.length} problems</span>\n                        </div>\n                    </div>\n                    \n                    <div className=\"flex items-center gap-3\">\n                        {isOwner && (\n                            <button\n                                onClick={() => setIsProblemModalOpen(true)}\n                                className=\"px-4 py-2 text-white bg-purple-600 rounded-lg shadow-md hover:bg-purple-700 transition-colors flex items-center gap-2\"\n                            >\n                                <Plus size={18} /> Create Problem\n                            </button>\n                        )}\n                        <button\n                            onClick={goBack}\n                            className=\"px-4 py-2 text-white bg-gray-500 dark:bg-gray-600 rounded-lg shadow-md hover:bg-gray-600 dark:hover:bg-gray-700 transition-colors\"\n                        >\n                            ‚Üê Back\n                        </button>\n                    </div>\n                </div>\n            </header>\n\n            {/* Solar System Visualization */}\n            {loading ? (\n                <div className=\"flex items-center justify-center h-[80vh] text-gray-400\">\n                    <div className=\"text-center\">\n                        <div className=\"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-purple-500 mx-auto mb-4\"></div>\n                        <p>Loading galaxy...</p>\n                    </div>\n                </div>\n            ) : problems.length === 0 ? (\n                <div className=\"flex flex-col items-center justify-center h-[80vh] text-gray-400 dark:text-gray-500\">\n                    <p className=\"text-xl mb-4\">No problems in this galaxy yet</p>\n                    {isOwner && (\n                        <p className=\"text-sm\">Click \"Create Problem\" to add the first one!</p>\n                    )}\n                </div>\n            ) : (\n                <DraggableSolarSystem \n                    problems={problems}\n                    solutions={solutions}\n                    onProblemClick={handleProblemClick}\n                    onSolutionClick={handleSolutionClick}\n                />\n            )}\n\n            {/* Problem Detail Modal */}\n            {selectedProblem && (\n                <div className=\"fixed inset-0 bg-black/80 flex items-center justify-center z-[100] p-4\">\n                    <div className=\"bg-white dark:bg-gray-800 rounded-xl p-6 max-w-2xl w-full max-h-[80vh] overflow-y-auto\">\n                        <div className=\"flex justify-between items-start mb-4\">\n                            <div>\n                                <h2 className=\"text-2xl font-bold mb-2 text-gray-900 dark:text-white\">{selectedProblem.title}</h2>\n                                <p className=\"text-gray-600 dark:text-gray-400\">{selectedProblem.description}</p>\n                                <div className=\"flex items-center gap-2 mt-2\">\n                                    <Star size={16} fill=\"gold\" className=\"text-yellow-400\" />\n                                    <span className=\"font-bold text-gray-700 dark:text-gray-300\">{selectedProblem.stars || 0} stars</span>\n                                </div>\n                            </div>\n                            <button\n                                onClick={() => setSelectedProblem(null)}\n                                className=\"text-gray-400 hover:text-gray-600 dark:hover:text-white\"\n                            >\n                                <X size={24} />\n                            </button>\n                        </div>\n\n                        {/* Solutions */}\n                        <div className=\"border-t border-gray-200 dark:border-gray-700 pt-4\">\n                            <h3 className=\"text-xl font-bold mb-4 text-gray-900 dark:text-white\">\n                                Solutions ({solutions[selectedProblem.id]?.length || 0})\n                            </h3>\n                            \n                            {/* Submit Solution */}\n                            <div className=\"mb-4\">\n                                <textarea\n                                    value={newSolutionText}\n                                    onChange={(e) => setNewSolutionText(e.target.value)}\n                                    placeholder=\"Share your solution...\"\n                                    className=\"w-full bg-gray-100 dark:bg-gray-700 rounded-lg p-3 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 resize-none border border-gray-300 dark:border-gray-600\"\n                                    rows={3}\n                                />\n                                <button\n                                    onClick={handleCreateSolution}\n                                    className=\"mt-2 bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors\"\n                                >\n                                    <Send size={16} /> Submit Solution\n                                </button>\n                            </div>\n\n                            {/* Solution List */}\n                            <div className=\"space-y-3\">\n                                {!solutions[selectedProblem.id] || solutions[selectedProblem.id].length === 0 ? (\n                                    <p className=\"text-gray-500 dark:text-gray-400 text-center py-4\">\n                                        No solutions yet. Be the first! Your solution will appear as an asteroid orbiting this planet.\n                                    </p>\n                                ) : (\n                                    solutions[selectedProblem.id].map(solution => (\n                                        <div key={solution.id} className=\"bg-gray-50 dark:bg-gray-700 rounded-lg p-4\">\n                                            <div className=\"flex justify-between items-start mb-2\">\n                                                <span className=\"font-semibold text-purple-600 dark:text-purple-400\">\n                                                    {solution.author_name || solution.author_username}\n                                                </span>\n                                                <div className=\"flex items-center gap-2\">\n                                                    <span className=\"flex items-center gap-1 text-gray-700 dark:text-gray-300\">\n                                                        <Star size={14} fill=\"gold\" className=\"text-yellow-400\" />\n                                                        {solution.stars || 0}\n                                                    </span>\n                                                    <button\n                                                        onClick={() => handleRateSolution(solution.id, selectedProblem.id)}\n                                                        className=\"bg-yellow-500 hover:bg-yellow-600 px-2 py-1 rounded text-xs transition-colors text-white\"\n                                                    >\n                                                        +1 ‚≠ê\n                                                    </button>\n                                                </div>\n                                            </div>\n                                            <p className=\"text-gray-700 dark:text-gray-300\">{solution.text}</p>\n                                        </div>\n                                    ))\n                                )}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            )}\n\n            {/* Solution Detail Modal (when clicking asteroid) */}\n            {selectedSolution && (\n                <div className=\"fixed inset-0 bg-black/80 flex items-center justify-center z-[100] p-4\">\n                    <div className=\"bg-white dark:bg-gray-800 rounded-xl p-6 max-w-md w-full\">\n                        <div className=\"flex justify-between items-start mb-4\">\n                            <div>\n                                <h3 className=\"text-xl font-bold text-gray-900 dark:text-white mb-1\">\n                                    Solution by {selectedSolution.author_name || selectedSolution.author_username}\n                                </h3>\n                                <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n                                    For: {selectedSolution.problemTitle}\n                                </p>\n                            </div>\n                            <button\n                                onClick={() => setSelectedSolution(null)}\n                                className=\"text-gray-400 hover:text-gray-600 dark:hover:text-white\"\n                            >\n                                <X size={24} />\n                            </button>\n                        </div>\n                        <p className=\"text-gray-700 dark:text-gray-300 mb-4\">{selectedSolution.text}</p>\n                        <div className=\"flex items-center justify-between\">\n                            <div className=\"flex items-center gap-2\">\n                                <Star size={16} fill=\"gold\" className=\"text-yellow-400\" />\n                                <span className=\"text-gray-700 dark:text-gray-300\">{selectedSolution.stars || 0} stars</span>\n                            </div>\n                            <button\n                                onClick={() => handleRateSolution(selectedSolution.id, selectedSolution.problem_id)}\n                                className=\"bg-yellow-500 hover:bg-yellow-600 px-3 py-1.5 rounded text-sm transition-colors text-white\"\n                            >\n                                +1 ‚≠ê Give Star\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            )}\n            \n            {/* Create Problem Modal (Owner Only) */}\n            {isProblemModalOpen && (\n                <Modal \n                    isOpen={isProblemModalOpen} \n                    onClose={() => setIsProblemModalOpen(false)} \n                    title=\"Create a New Problem\"\n                >\n                    <div className=\"space-y-4\">\n                        <input\n                            type=\"text\"\n                            placeholder=\"Problem Title\"\n                            value={newProblem.title}\n                            onChange={(e) => setNewProblem({...newProblem, title: e.target.value})}\n                            className=\"w-full p-3 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white border border-gray-300 dark:border-gray-600\"\n                        />\n                        <textarea\n                            placeholder=\"Detailed Problem Description...\"\n                            value={newProblem.description}\n                            onChange={(e) => setNewProblem({...newProblem, description: e.target.value})}\n                            rows={5}\n                            className=\"w-full p-3 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white border border-gray-300 dark:border-gray-600\"\n                        />\n                        <button\n                            onClick={handleCreateProblem}\n                            className=\"w-full p-3 bg-purple-600 text-white font-semibold rounded-lg hover:bg-purple-700 transition-colors\"\n                        >\n                            Create Problem\n                        </button>\n                    </div>\n                </Modal>\n            )}\n        </div>\n    );\n};\n\nexport default GalaxyView;\n// import React, { useState } from 'react';\n// import { \n//     getProblems, \n//     createProblem, \n//     getSolutions, \n//     createSolution, \n//     rateSolution \n// } from '../../services/api';\n// import Modal from '../common/Modal';\n// import { Star, Plus, X, Send } from 'lucide-react';\n\n// const GalaxyView = ({ user, galaxy, goBack, SolarSystemGalaxy }) => {\n//     const [problems, setProblems] = useState([]);\n//     const [solutions, setSolutions] = useState([]);\n//     const [currentProblem, setCurrentProblem] = useState(null);\n//     const [isProblemModalOpen, setIsProblemModalOpen] = useState(false);\n//     const [isSolutionModalOpen, setIsSolutionModalOpen] = useState(false);\n//     const [newProblem, setNewProblem] = useState({ title: '', description: '' });\n//     const [newSolution, setNewSolution] = useState('');\n//     const [loading, setLoading] = useState(true);\n\n//     // Load problems for THIS specific galaxy only\n//     React.useEffect(() => {\n//         const loadProblems = async () => {\n//             try {\n//                 setLoading(true);\n//                 // This fetches ONLY problems belonging to the current galaxy\n//                 const p = await getProblems(galaxy.id);\n//                 setProblems(p);\n//             } catch (err) {\n//                 alert(`Failed to load problems: ${err.message}`);\n//             } finally {\n//                 setLoading(false);\n//             }\n//         };\n//         loadProblems();\n//     }, [galaxy.id]);\n\n//     // Load solutions for a selected problem\n//     const loadSolutions = async (problemId) => {\n//         try {\n//             const s = await getSolutions(problemId);\n//             setSolutions(s);\n//         } catch (err) {\n//             alert(`Failed to load solutions: ${err.message}`);\n//         }\n//     };\n\n//     // Open Problem Detail/Solutions View\n//     const handleViewProblem = async (problem) => {\n//         setCurrentProblem(problem);\n//         await loadSolutions(problem.id);\n//     };\n    \n//     // Close Problem Detail View\n//     const handleCloseProblemView = () => {\n//         setCurrentProblem(null);\n//         setSolutions([]);\n//     };\n\n//     // Create New Problem (Owner only)\n//     const handleCreateProblem = async (e) => {\n//         e.preventDefault();\n//         try {\n//             const created = await createProblem(galaxy.id, newProblem.title, newProblem.description);\n//             setProblems([...problems, created]);\n//             setIsProblemModalOpen(false);\n//             setNewProblem({ title: '', description: '' });\n//         } catch (error) {\n//             alert(`Error creating problem: ${error.message}`);\n//         }\n//     };\n\n//     // Create New Solution\n//     const handleCreateSolution = async (e) => {\n//         e.preventDefault();\n//         if (!currentProblem) return;\n\n//         try {\n//             const created = await createSolution(currentProblem.id, newSolution);\n//             setSolutions([...solutions, created]);\n//             setIsSolutionModalOpen(false);\n//             setNewSolution('');\n//         } catch (error) {\n//             alert(`Error submitting solution: ${error.message}`);\n//         }\n//     };\n    \n//     // Handle Rating a Solution (Star)\n//     const handleRateSolution = async (solutionId) => {\n//         try {\n//             await rateSolution(solutionId, 1);\n            \n//             // Reload solutions to get updated stars\n//             await loadSolutions(currentProblem.id);\n//         } catch (error) {\n//             alert(`Error rating solution: ${error.message}`);\n//         }\n//     };\n\n//     const isOwner = user.id === galaxy.owner_id;\n\n//     return (\n//         <div className=\"space-y-6\">\n//             {/* Header */}\n//             <header className=\"pb-4 border-b border-gray-300 dark:border-gray-700\">\n//                 <div className=\"flex justify-between items-start mb-4\">\n//                     <div>\n//                         <h2 className=\"text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-500 mb-2\">\n//                             {galaxy.name}\n//                         </h2>\n//                         <p className=\"text-gray-600 dark:text-gray-400\">{galaxy.description}</p>\n//                         <div className=\"flex items-center gap-4 mt-2 text-sm text-gray-500 dark:text-gray-400\">\n//                             <span>Owner: {galaxy.owner_name}</span>\n//                             <span>‚Ä¢</span>\n//                             <span>{galaxy.member_count || 0} members</span>\n//                             <span>‚Ä¢</span>\n//                             <span>{problems.length} problems</span>\n//                         </div>\n//                     </div>\n                    \n//                     <div className=\"flex items-center gap-3\">\n//                         {isOwner && (\n//                             <button\n//                                 onClick={() => setIsProblemModalOpen(true)}\n//                                 className=\"px-4 py-2 text-white bg-purple-600 rounded-lg shadow-md hover:bg-purple-700 transition-colors flex items-center gap-2\"\n//                             >\n//                                 <Plus size={18} /> Create Problem\n//                             </button>\n//                         )}\n//                         <button\n//                             onClick={goBack}\n//                             className=\"px-4 py-2 text-white bg-gray-500 dark:bg-gray-600 rounded-lg shadow-md hover:bg-gray-600 dark:hover:bg-gray-700 transition-colors\"\n//                         >\n//                             ‚Üê Back\n//                         </button>\n//                     </div>\n//                 </div>\n//             </header>\n\n//             {/* Solar System Visualization */}\n//             {loading ? (\n//                 <div className=\"flex items-center justify-center h-[80vh] text-gray-400\">\n//                     <div className=\"text-center\">\n//                         <div className=\"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-purple-500 mx-auto mb-4\"></div>\n//                         <p>Loading galaxy...</p>\n//                     </div>\n//                 </div>\n//             ) : problems.length === 0 ? (\n//                 <div className=\"flex flex-col items-center justify-center h-[80vh] text-gray-400 dark:text-gray-500\">\n//                     <p className=\"text-xl mb-4\">No problems in this galaxy yet</p>\n//                     {isOwner && (\n//                         <p className=\"text-sm\">Click \"Create Problem\" to add the first one!</p>\n//                     )}\n//                 </div>\n//             ) : (\n//                 <SolarSystemGalaxy \n//                     problems={problems}\n//                     onProblemClick={handleViewProblem}\n//                 />\n//             )}\n\n//             {/* Instructions */}\n//             <div className=\"mt-6 p-4 bg-gray-100 dark:bg-gray-800 rounded-lg\">\n//                 <p className=\"text-gray-600 dark:text-gray-300 text-sm md:text-base text-center\">\n//                     ‚òÄÔ∏è The <span className=\"text-yellow-500 font-bold\">Sun</span> represents your galaxy center\n//                     <span className=\"mx-2 md:mx-4\">‚Ä¢</span>\n//                     ü™ê <span className=\"text-blue-500 font-bold\">Planets</span> are problems orbiting around it\n//                     <span className=\"mx-2 md:mx-4\">‚Ä¢</span>\n//                     ‚≠ê <span className=\"text-yellow-500 font-bold\">Larger planets</span> = more stars\n//                     <span className=\"mx-2 md:mx-4\">‚Ä¢</span>\n//                     üîÑ <span className=\"text-purple-500 font-bold\">Click</span> a planet to see solutions\n//                 </p>\n//             </div>\n\n//             {/* Problem Detail Modal */}\n//             {currentProblem && (\n//                 <div className=\"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4\">\n//                     <div className=\"bg-white dark:bg-gray-800 rounded-xl p-6 max-w-2xl w-full max-h-[80vh] overflow-y-auto\">\n//                         <div className=\"flex justify-between items-start mb-4\">\n//                             <div>\n//                                 <h2 className=\"text-2xl font-bold mb-2 text-gray-900 dark:text-white\">{currentProblem.title}</h2>\n//                                 <p className=\"text-gray-600 dark:text-gray-400\">{currentProblem.description}</p>\n//                                 <div className=\"flex items-center gap-2 mt-2\">\n//                                     <Star size={16} fill=\"gold\" className=\"text-yellow-400\" />\n//                                     <span className=\"font-bold text-gray-700 dark:text-gray-300\">{currentProblem.stars || 0} stars</span>\n//                                 </div>\n//                             </div>\n//                             <button\n//                                 onClick={handleCloseProblemView}\n//                                 className=\"text-gray-400 hover:text-gray-600 dark:hover:text-white\"\n//                             >\n//                                 <X size={24} />\n//                             </button>\n//                         </div>\n\n//                         {/* Solutions */}\n//                         <div className=\"border-t border-gray-200 dark:border-gray-700 pt-4\">\n//                             <h3 className=\"text-xl font-bold mb-4 text-gray-900 dark:text-white\">Solutions</h3>\n                            \n//                             {/* Submit Solution */}\n//                             <div className=\"mb-4\">\n//                                 <textarea\n//                                     value={newSolution}\n//                                     onChange={(e) => setNewSolution(e.target.value)}\n//                                     placeholder=\"Share your solution...\"\n//                                     className=\"w-full bg-gray-100 dark:bg-gray-700 rounded-lg p-3 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 resize-none border border-gray-300 dark:border-gray-600\"\n//                                     rows={3}\n//                                 />\n//                                 <button\n//                                     onClick={handleCreateSolution}\n//                                     className=\"mt-2 bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors\"\n//                                 >\n//                                     <Send size={16} /> Submit Solution\n//                                 </button>\n//                             </div>\n\n//                             {/* Solution List */}\n//                             <div className=\"space-y-3\">\n//                                 {solutions.length === 0 ? (\n//                                     <p className=\"text-gray-500 dark:text-gray-400 text-center py-4\">No solutions yet. Be the first!</p>\n//                                 ) : (\n//                                     solutions.map(solution => (\n//                                         <div key={solution.id} className=\"bg-gray-50 dark:bg-gray-700 rounded-lg p-4\">\n//                                             <div className=\"flex justify-between items-start mb-2\">\n//                                                 <span className=\"font-semibold text-purple-600 dark:text-purple-400\">\n//                                                     {solution.author_name || solution.author_username}\n//                                                 </span>\n//                                                 <div className=\"flex items-center gap-2\">\n//                                                     <span className=\"flex items-center gap-1 text-gray-700 dark:text-gray-300\">\n//                                                         <Star size={14} fill=\"gold\" className=\"text-yellow-400\" />\n//                                                         {solution.stars || 0}\n//                                                     </span>\n//                                                     <button\n//                                                         onClick={() => handleRateSolution(solution.id)}\n//                                                         className=\"bg-yellow-500 hover:bg-yellow-600 px-2 py-1 rounded text-xs transition-colors text-white\"\n//                                                     >\n//                                                         +1 ‚≠ê\n//                                                     </button>\n//                                                 </div>\n//                                             </div>\n//                                             <p className=\"text-gray-700 dark:text-gray-300\">{solution.text}</p>\n//                                         </div>\n//                                     ))\n//                                 )}\n//                             </div>\n//                         </div>\n//                     </div>\n//                 </div>\n//             )}\n            \n//             {/* Create Problem Modal (Owner Only) */}\n//             {isProblemModalOpen && (\n//                 <Modal \n//                     isOpen={isProblemModalOpen} \n//                     onClose={() => setIsProblemModalOpen(false)} \n//                     title=\"Create a New Problem\"\n//                 >\n//                     <div className=\"space-y-4\">\n//                         <input\n//                             type=\"text\"\n//                             placeholder=\"Problem Title\"\n//                             value={newProblem.title}\n//                             onChange={(e) => setNewProblem({...newProblem, title: e.target.value})}\n//                             className=\"w-full p-3 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white border border-gray-300 dark:border-gray-600\"\n//                         />\n//                         <textarea\n//                             placeholder=\"Detailed Problem Description...\"\n//                             value={newProblem.description}\n//                             onChange={(e) => setNewProblem({...newProblem, description: e.target.value})}\n//                             rows={5}\n//                             className=\"w-full p-3 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white border border-gray-300 dark:border-gray-600\"\n//                         />\n//                         <button\n//                             onClick={handleCreateProblem}\n//                             className=\"w-full p-3 bg-purple-600 text-white font-semibold rounded-lg hover:bg-purple-700 transition-colors\"\n//                         >\n//                             Create Problem\n//                         </button>\n//                     </div>\n//                 </Modal>\n//             )}\n//         </div>\n//     );\n// };\n\n// export default GalaxyView;"],"mappings":"yKAAA;AAEA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CAC1D,OACIC,WAAW,CACXC,aAAa,CACbC,YAAY,CACZC,cAAc,CACdC,YAAY,KACT,oBAAoB,CAC3B,MAAO,CAAAC,KAAK,KAAM,iBAAiB,CACnC,OAASC,IAAI,CAAEC,IAAI,CAAEC,CAAC,CAAEC,IAAI,CAAEC,MAAM,CAAEC,OAAO,CAAEC,SAAS,KAAQ,cAAc,CAE9E;AACA;AACA;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEA,KAAM,CAAAC,oBAAoB,CAAGC,IAAA,EAA8D,IAA7D,CAAEC,QAAQ,CAAEC,SAAS,CAAEC,cAAc,CAAEC,eAAgB,CAAC,CAAAJ,IAAA,CACpF,KAAM,CAAAK,YAAY,CAAG1B,MAAM,CAAC,IAAI,CAAC,CACjC,KAAM,CAAC2B,UAAU,CAAEC,aAAa,CAAC,CAAG9B,QAAQ,CAAC,KAAK,CAAC,CACnD,KAAM,CAAC+B,QAAQ,CAAEC,WAAW,CAAC,CAAGhC,QAAQ,CAAC,CAAEiC,CAAC,CAAE,CAAC,CAAEC,CAAC,CAAE,CAAE,CAAC,CAAC,CACxD,KAAM,CAACC,SAAS,CAAEC,YAAY,CAAC,CAAGpC,QAAQ,CAAC,CAAEiC,CAAC,CAAE,CAAC,CAAEC,CAAC,CAAE,CAAE,CAAC,CAAC,CAC1D,KAAM,CAACG,IAAI,CAAEC,OAAO,CAAC,CAAGtC,QAAQ,CAAC,CAAC,CAAC,CAEnC;AACAC,SAAS,CAAC,IAAM,CACd,GAAI4B,UAAU,CAAE,CACdU,MAAM,CAACC,gBAAgB,CAAC,WAAW,CAAEC,eAAe,CAAC,CACrDF,MAAM,CAACC,gBAAgB,CAAC,SAAS,CAAEE,aAAa,CAAC,CACjD,MAAO,IAAM,CACXH,MAAM,CAACI,mBAAmB,CAAC,WAAW,CAAEF,eAAe,CAAC,CACxDF,MAAM,CAACI,mBAAmB,CAAC,SAAS,CAAED,aAAa,CAAC,CACtD,CAAC,CACH,CACF,CAAC,CAAE,CAACb,UAAU,CAAEM,SAAS,CAAC,CAAC,CAE3B,KAAM,CAAAS,eAAe,CAAIC,CAAC,EAAK,CAC7B,GAAIA,CAAC,CAACC,MAAM,GAAKlB,YAAY,CAACmB,OAAO,EAAIF,CAAC,CAACC,MAAM,CAACE,OAAO,CAAC,iBAAiB,CAAC,CAAE,CAC5ElB,aAAa,CAAC,IAAI,CAAC,CACnBM,YAAY,CAAC,CACXH,CAAC,CAAEY,CAAC,CAACI,OAAO,CAAGlB,QAAQ,CAACE,CAAC,CACzBC,CAAC,CAAEW,CAAC,CAACK,OAAO,CAAGnB,QAAQ,CAACG,CAC1B,CAAC,CAAC,CACJ,CACF,CAAC,CAED,KAAM,CAAAO,eAAe,CAAII,CAAC,EAAK,CAC7B,GAAIhB,UAAU,CAAE,CACdG,WAAW,CAAC,CACVC,CAAC,CAAEY,CAAC,CAACI,OAAO,CAAGd,SAAS,CAACF,CAAC,CAC1BC,CAAC,CAAEW,CAAC,CAACK,OAAO,CAAGf,SAAS,CAACD,CAC3B,CAAC,CAAC,CACJ,CACF,CAAC,CAED,KAAM,CAAAQ,aAAa,CAAGA,CAAA,GAAMZ,aAAa,CAAC,KAAK,CAAC,CAEhD,KAAM,CAAAqB,YAAY,CAAGA,CAAA,GAAMb,OAAO,CAACc,IAAI,EAAIC,IAAI,CAACC,GAAG,CAACF,IAAI,CAAG,GAAG,CAAE,CAAC,CAAC,CAAC,CACnE,KAAM,CAAAG,aAAa,CAAGA,CAAA,GAAMjB,OAAO,CAACc,IAAI,EAAIC,IAAI,CAACG,GAAG,CAACJ,IAAI,CAAG,GAAG,CAAE,GAAG,CAAC,CAAC,CACtE,KAAM,CAAAK,WAAW,CAAGA,CAAA,GAAM,CACxBzB,WAAW,CAAC,CAAEC,CAAC,CAAE,CAAC,CAAEC,CAAC,CAAE,CAAE,CAAC,CAAC,CAC3BI,OAAO,CAAC,CAAC,CAAC,CACZ,CAAC,CAED,mBACEnB,KAAA,QAAKuC,SAAS,CAAC,8GAA8G,CAAAC,QAAA,EAE1H,CAAC,CAACnC,QAAQ,EAAIA,QAAQ,CAACoC,MAAM,GAAK,CAAC,gBAClC3C,IAAA,QAAKyC,SAAS,CAAC,0EAA0E,CAAAC,QAAA,CAAC,gCAE1F,CAAK,CACN,cAGDxC,KAAA,QAAKuC,SAAS,CAAC,iDAAiD,CAAAC,QAAA,eAC9D1C,IAAA,WAAQ4C,OAAO,CAAEV,YAAa,CAACO,SAAS,CAAC,+FAA+F,CAACI,KAAK,CAAC,SAAS,CAAAH,QAAA,cACtJ1C,IAAA,CAACJ,MAAM,EAACkD,IAAI,CAAE,EAAG,CAAE,CAAC,CACd,CAAC,cACT9C,IAAA,WAAQ4C,OAAO,CAAEN,aAAc,CAACG,SAAS,CAAC,+FAA+F,CAACI,KAAK,CAAC,UAAU,CAAAH,QAAA,cACxJ1C,IAAA,CAACH,OAAO,EAACiD,IAAI,CAAE,EAAG,CAAE,CAAC,CACf,CAAC,cACT9C,IAAA,WAAQ4C,OAAO,CAAEJ,WAAY,CAACC,SAAS,CAAC,+FAA+F,CAACI,KAAK,CAAC,YAAY,CAAAH,QAAA,cACxJ1C,IAAA,CAACF,SAAS,EAACgD,IAAI,CAAE,EAAG,CAAE,CAAC,CACjB,CAAC,EACN,CAAC,cAGN5C,KAAA,QAAKuC,SAAS,CAAC,oGAAoG,CAAAC,QAAA,EAAC,QAC5G,CAAC,CAACtB,IAAI,CAAG,GAAG,EAAE2B,OAAO,CAAC,CAAC,CAAC,CAAC,GACjC,EAAK,CAAC,CAGLxC,QAAQ,EAAIA,QAAQ,CAACoC,MAAM,CAAG,CAAC,eAC9BzC,KAAA,QACE8C,GAAG,CAAErC,YAAa,CAClB8B,SAAS,CAAC,oEAAoE,CAC9EQ,WAAW,CAAEtB,eAAgB,CAC7BuB,KAAK,CAAE,CACLC,SAAS,cAAAC,MAAA,CAAetC,QAAQ,CAACE,CAAC,SAAAoC,MAAA,CAAOtC,QAAQ,CAACG,CAAC,eAAAmC,MAAA,CAAahC,IAAI,KAAG,CACvEiC,UAAU,CAAEzC,UAAU,CAAG,MAAM,CAAG,yBAAyB,CAC3D0C,KAAK,CAAE,MAAM,CACbC,MAAM,CAAE,MAAM,CACdC,IAAI,CAAE,OAAO,CACbC,GAAG,CAAE,OACP,CAAE,CAAAf,QAAA,eAGF1C,IAAA,QAAKyC,SAAS,CAAC,sCAAsC,CAAAC,QAAA,CAClD,CAAC,GAAGgB,KAAK,CAAC,GAAG,CAAC,CAAC,CAACC,GAAG,CAAC,CAACC,CAAC,CAAEC,CAAC,gBACxB7D,IAAA,QAEEyC,SAAS,CAAC,8CAA8C,CACxDS,KAAK,CAAE,CACLI,KAAK,CAAElB,IAAI,CAAC0B,MAAM,CAAC,CAAC,CAAG,CAAC,CAAG,CAAC,CAAG,IAAI,CACnCP,MAAM,CAAEnB,IAAI,CAAC0B,MAAM,CAAC,CAAC,CAAG,CAAC,CAAG,CAAC,CAAG,IAAI,CACpCL,GAAG,CAAErB,IAAI,CAAC0B,MAAM,CAAC,CAAC,CAAG,GAAG,CAAG,GAAG,CAC9BN,IAAI,CAAEpB,IAAI,CAAC0B,MAAM,CAAC,CAAC,CAAG,GAAG,CAAG,GAAG,CAC/BC,OAAO,CAAE3B,IAAI,CAAC0B,MAAM,CAAC,CAAC,CAAG,GAAG,CAAG,GAAG,CAClCE,iBAAiB,CAAE5B,IAAI,CAAC0B,MAAM,CAAC,CAAC,CAAG,CAAC,CAAG,CAAC,CAAG,GAAG,CAC9CG,cAAc,CAAE7B,IAAI,CAAC0B,MAAM,CAAC,CAAC,CAAG,CAAC,CAAG,GACtC,CAAE,EAVGD,CAWN,CACF,CAAC,CACC,CAAC,cAGN7D,IAAA,QAAKyC,SAAS,CAAC,sFAAsF,CAAAC,QAAA,cACnGxC,KAAA,QAAKuC,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvB1C,IAAA,QAAKyC,SAAS,CAAC,+EAA+E,CAACS,KAAK,CAAE,CAAEI,KAAK,CAAE,OAAO,CAAEC,MAAM,CAAE,OAAO,CAAEW,MAAM,CAAE,OAAQ,CAAE,CAAE,CAAC,cAC9JlE,IAAA,QAAKyC,SAAS,CAAC,0JAA0J,CAAAC,QAAA,cACvK1C,IAAA,CAACR,IAAI,EAACiD,SAAS,CAAC,sBAAsB,CAAC0B,IAAI,CAAC,OAAO,CAAE,CAAC,CACnD,CAAC,EACH,CAAC,CACH,CAAC,CAGL5D,QAAQ,CAACoD,GAAG,CAAC,CAACS,OAAO,CAAEC,KAAK,gBAC3BrE,IAAA,CAACsE,2BAA2B,EAE1BF,OAAO,CAAEA,OAAQ,CACjB5D,SAAS,CAAEA,SAAS,CAAC4D,OAAO,CAACG,EAAE,CAAC,EAAI,EAAG,CACvCC,UAAU,CAAEH,KAAM,CAClBI,YAAY,CAAElE,QAAQ,CAACoC,MAAO,CAC9BlC,cAAc,CAAEA,cAAe,CAC/BC,eAAe,CAAEA,eAAgB,EAN5B0D,OAAO,CAACG,EAOd,CACF,CAAC,EACC,CACN,EACE,CAAC,CAEV,CAAC,CAED;AACA,KAAM,CAAAD,2BAA2B,CAAGI,KAAA,EAAuF,IAAtF,CAAEN,OAAO,CAAE5D,SAAS,CAAEgE,UAAU,CAAEC,YAAY,CAAEhE,cAAc,CAAEC,eAAgB,CAAC,CAAAgE,KAAA,CACpH,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAG7F,QAAQ,CAAC,CAAC,CAAC,CAE3C,KAAM,CAAA8F,eAAe,CAAG,EAAE,CAC1B,KAAM,CAAAC,WAAW,CAAGD,eAAe,CAAIL,UAAU,CAAG,EAAG,CAEvD,KAAM,CAAAO,QAAQ,CAAG,EAAE,CACnB,KAAM,CAAAC,UAAU,CAAG5C,IAAI,CAACC,GAAG,CAAC0C,QAAQ,CAAG,CAACX,OAAO,CAACa,KAAK,EAAI,CAAC,EAAI,CAAC,CAAE,GAAG,CAAC,CAErE,KAAM,CAAAC,UAAU,CAAIV,UAAU,CAAG,GAAG,CAAIC,YAAY,CAEpDzF,SAAS,CAAC,IAAM,CACd,KAAM,CAAAmG,QAAQ,CAAGC,WAAW,CAAC,IAAM,CACjCR,WAAW,CAACzC,IAAI,EAAI,CAACA,IAAI,CAAG,GAAG,EAAI,GAAG,CAAC,CACzC,CAAC,CAAE,EAAE,CAAC,CAEN,MAAO,IAAMkD,aAAa,CAACF,QAAQ,CAAC,CACtC,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAG,KAAK,CAAI,CAACX,QAAQ,CAAGO,UAAU,EAAI9C,IAAI,CAACmD,EAAE,CAAI,GAAG,CACvD,KAAM,CAAAvE,CAAC,CAAG,EAAE,CAAI8D,WAAW,CAAG,CAAC,CAAI1C,IAAI,CAACoD,GAAG,CAACF,KAAK,CAAC,CAClD,KAAM,CAAArE,CAAC,CAAG,EAAE,CAAI6D,WAAW,CAAG,CAAC,CAAI1C,IAAI,CAACqD,GAAG,CAACH,KAAK,CAAC,CAElD,KAAM,CAAAI,YAAY,CAAG,CACnB,2BAA2B,CAC3B,yBAAyB,CACzB,6BAA6B,CAC7B,+BAA+B,CAC/B,2BAA2B,CAC3B,2BAA2B,CAC3B,+BAA+B,CAC/B,2BAA2B,CAC5B,CAED,mBACExF,KAAA,CAAAE,SAAA,EAAAsC,QAAA,eAEE1C,IAAA,QACEyC,SAAS,CAAC,qHAAqH,CAC/HS,KAAK,CAAE,CACLI,KAAK,IAAAF,MAAA,CAAM0B,WAAW,CAAG,CAAC,KAAI,CAC9BvB,MAAM,IAAAH,MAAA,CAAM0B,WAAW,CAAG,CAAC,KAC7B,CAAE,CACH,CAAC,cAGF5E,KAAA,QACEuC,SAAS,CAAC,UAAU,CACpBS,KAAK,CAAE,CACLM,IAAI,IAAAJ,MAAA,CAAKpC,CAAC,KAAG,CACbyC,GAAG,IAAAL,MAAA,CAAKnC,CAAC,KAAG,CACZkC,SAAS,CAAE,uBACb,CAAE,CAAAT,QAAA,EAGDlC,SAAS,CAACmD,GAAG,CAAC,CAACgC,QAAQ,CAAEC,IAAI,gBAC5B5F,IAAA,CAAC6F,QAAQ,EAEPF,QAAQ,CAAEA,QAAS,CACnBG,aAAa,CAAEF,IAAK,CACpBG,cAAc,CAAEvF,SAAS,CAACmC,MAAO,CACjCqC,UAAU,CAAEA,UAAW,CACvBL,QAAQ,CAAEA,QAAS,CACnB/B,OAAO,CAAEA,CAAA,GAAMlC,eAAe,CAACiF,QAAQ,CAAEvB,OAAO,CAAE,EAN7CuB,QAAQ,CAACpB,EAOf,CACF,CAAC,cAGFrE,KAAA,QACEuC,SAAS,CAAC,mEAAmE,CAC7EG,OAAO,CAAGhB,CAAC,EAAK,CACdA,CAAC,CAACoE,eAAe,CAAC,CAAC,CACnBvF,cAAc,CAAC2D,OAAO,CAAC,CACzB,CAAE,CAAA1B,QAAA,eAGF1C,IAAA,QACEyC,SAAS,oDAAAW,MAAA,CAAqDsC,YAAY,CAAClB,UAAU,CAAGkB,YAAY,CAAC/C,MAAM,CAAC,2CAA0C,CACtJO,KAAK,CAAE,CAAEI,KAAK,IAAAF,MAAA,CAAK4B,UAAU,CAAG,EAAE,MAAI,CAAEzB,MAAM,IAAAH,MAAA,CAAK4B,UAAU,CAAG,EAAE,MAAI,CAAEd,MAAM,CAAE,OAAQ,CAAE,CAC3F,CAAC,cAGFhE,KAAA,QACEuC,SAAS,4CAAAW,MAAA,CAA6CsC,YAAY,CAAClB,UAAU,CAAGkB,YAAY,CAAC/C,MAAM,CAAC,yEAAwE,CAC5KO,KAAK,CAAE,CAAEI,KAAK,IAAAF,MAAA,CAAK4B,UAAU,MAAI,CAAEzB,MAAM,IAAAH,MAAA,CAAK4B,UAAU,MAAK,CAAE,CAAAtC,QAAA,eAE/D1C,IAAA,QAAKyC,SAAS,CAAC,sGAAsG,CAAE,CAAC,cAGxHzC,IAAA,QAAKyC,SAAS,CAAC,uLAAuL,CAAAC,QAAA,CACnM0B,OAAO,CAACvB,KAAK,CACX,CAAC,EACH,CAAC,cAGN3C,KAAA,QAAKuC,SAAS,CAAC,0IAA0I,CAAAC,QAAA,eACvJ1C,IAAA,CAACR,IAAI,EAACsD,IAAI,CAAE,EAAG,CAACqB,IAAI,CAAC,cAAc,CAAC1B,SAAS,CAAC,iBAAiB,CAAE,CAAC,CACjE2B,OAAO,CAACa,KAAK,EAAI,CAAC,EAChB,CAAC,CAGLzE,SAAS,CAACmC,MAAM,CAAG,CAAC,eACnB3C,IAAA,QAAKyC,SAAS,CAAC,yJAAyJ,CAAAC,QAAA,CACrKlC,SAAS,CAACmC,MAAM,CACd,CACN,EACE,CAAC,EACH,CAAC,EACN,CAAC,CAEP,CAAC,CAED;AACA,KAAM,CAAAkD,QAAQ,CAAGI,KAAA,EAAgF,IAA/E,CAAEN,QAAQ,CAAEG,aAAa,CAAEC,cAAc,CAAEf,UAAU,CAAEL,QAAQ,CAAE/B,OAAQ,CAAC,CAAAqD,KAAA,CAC1F,KAAM,CAAAC,mBAAmB,CAAGlB,UAAU,CAAG,CAAC,CAAG,EAAE,CAAIc,aAAa,CAAG,CAAE,CACrE,KAAM,CAAAK,aAAa,CAAI,CAACxB,QAAQ,CAAG,CAAC,CAAGmB,aAAa,EAAI,GAAG,CAAGC,cAAc,CAAC,EAAI3D,IAAI,CAACmD,EAAE,CAAI,GAAG,CAE/F,KAAM,CAAAa,SAAS,CAAGF,mBAAmB,CAAG9D,IAAI,CAACoD,GAAG,CAACW,aAAa,CAAC,CAC/D,KAAM,CAAAE,SAAS,CAAGH,mBAAmB,CAAG9D,IAAI,CAACqD,GAAG,CAACU,aAAa,CAAC,CAE/D,KAAM,CAAAG,YAAY,CAAGlE,IAAI,CAACC,GAAG,CAAC,EAAE,CAAG,CAACsD,QAAQ,CAACV,KAAK,EAAI,CAAC,EAAI,CAAC,CAAE,EAAE,CAAC,CAEjE,mBACE/E,KAAA,QACEuC,SAAS,CAAC,mEAAmE,CAC7ES,KAAK,CAAE,CACLM,IAAI,IAAAJ,MAAA,CAAKgD,SAAS,MAAI,CACtB3C,GAAG,IAAAL,MAAA,CAAKiD,SAAS,MAAI,CACrBlD,SAAS,CAAE,uBACb,CAAE,CACFP,OAAO,CAAGhB,CAAC,EAAK,CACdA,CAAC,CAACoE,eAAe,CAAC,CAAC,CACnBpD,OAAO,CAAC,CAAC,CACX,CAAE,CAAAF,QAAA,eAGF1C,IAAA,QACEyC,SAAS,CAAC,kFAAkF,CAC5FS,KAAK,CAAE,CAAEI,KAAK,IAAAF,MAAA,CAAKkD,YAAY,CAAG,EAAE,MAAI,CAAE/C,MAAM,IAAAH,MAAA,CAAKkD,YAAY,CAAG,EAAE,MAAI,CAAEpC,MAAM,CAAE,MAAO,CAAE,CAC9F,CAAC,cAGFlE,IAAA,QACEyC,SAAS,CAAC,uGAAuG,CACjHS,KAAK,CAAE,CACLI,KAAK,IAAAF,MAAA,CAAKkD,YAAY,MAAI,CAC1B/C,MAAM,IAAAH,MAAA,CAAKkD,YAAY,MAAI,CAC3BC,QAAQ,CAAE,iFACZ,CAAE,CACH,CAAC,CAGDZ,QAAQ,CAACV,KAAK,CAAG,CAAC,eACjBjF,IAAA,QAAKyC,SAAS,CAAC,oIAAoI,CAAAC,QAAA,CAChJiD,QAAQ,CAACV,KAAK,CACZ,CACN,cAGD/E,KAAA,QAAKuC,SAAS,CAAC,sLAAsL,CAAAC,QAAA,EAAC,cACxL,CAACiD,QAAQ,CAACa,WAAW,EAAIb,QAAQ,CAACc,eAAe,EAC1D,CAAC,EACH,CAAC,CAEV,CAAC,CAED;AACA;AACA;AAEA,KAAM,CAAAC,UAAU,CAAGC,KAAA,EAA8B,KAAAC,qBAAA,IAA7B,CAAEC,IAAI,CAAEC,MAAM,CAAEC,MAAO,CAAC,CAAAJ,KAAA,CACxC,KAAM,CAACpG,QAAQ,CAAEyG,WAAW,CAAC,CAAGjI,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACyB,SAAS,CAAEyG,YAAY,CAAC,CAAGlI,QAAQ,CAAC,CAAC,CAAC,CAAC,CAC9C,KAAM,CAACmI,eAAe,CAAEC,kBAAkB,CAAC,CAAGpI,QAAQ,CAAC,IAAI,CAAC,CAC5D,KAAM,CAACqI,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGtI,QAAQ,CAAC,IAAI,CAAC,CAC9D,KAAM,CAACuI,kBAAkB,CAAEC,qBAAqB,CAAC,CAAGxI,QAAQ,CAAC,KAAK,CAAC,CACnE,KAAM,CAACyI,UAAU,CAAEC,aAAa,CAAC,CAAG1I,QAAQ,CAAC,CAAE8D,KAAK,CAAE,EAAE,CAAE6E,WAAW,CAAE,EAAG,CAAC,CAAC,CAC5E,KAAM,CAACC,eAAe,CAAEC,kBAAkB,CAAC,CAAG7I,QAAQ,CAAC,EAAE,CAAC,CAC1D,KAAM,CAAC8I,OAAO,CAAEC,UAAU,CAAC,CAAG/I,QAAQ,CAAC,IAAI,CAAC,CAE5C;AACAC,SAAS,CAAC,IAAM,CACZ,KAAM,CAAA+I,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC7B,GAAI,CACAD,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAAAE,CAAC,CAAG,KAAM,CAAA9I,WAAW,CAAC4H,MAAM,CAACvC,EAAE,CAAC,CACtCyC,WAAW,CAACgB,CAAC,CAAC,CAEd;AACA,KAAM,CAAAC,YAAY,CAAG,CAAC,CAAC,CACvB,IAAK,KAAM,CAAA7D,OAAO,GAAI,CAAA4D,CAAC,CAAE,CACrB,GAAI,CACA,KAAM,CAAAE,IAAI,CAAG,KAAM,CAAA9I,YAAY,CAACgF,OAAO,CAACG,EAAE,CAAC,CAC3C0D,YAAY,CAAC7D,OAAO,CAACG,EAAE,CAAC,CAAG2D,IAAI,CACnC,CAAE,MAAOC,GAAG,CAAE,CACVC,OAAO,CAACC,KAAK,yCAAAjF,MAAA,CAAyCgB,OAAO,CAACG,EAAE,MAAK4D,GAAG,CAAC,CACzEF,YAAY,CAAC7D,OAAO,CAACG,EAAE,CAAC,CAAG,EAAE,CACjC,CACJ,CACA0C,YAAY,CAACgB,YAAY,CAAC,CAC9B,CAAE,MAAOE,GAAG,CAAE,CACVG,KAAK,6BAAAlF,MAAA,CAA6B+E,GAAG,CAACI,OAAO,CAAE,CAAC,CACpD,CAAC,OAAS,CACNT,UAAU,CAAC,KAAK,CAAC,CACrB,CACJ,CAAC,CACDC,YAAY,CAAC,CAAC,CAClB,CAAC,CAAE,CAACjB,MAAM,CAACvC,EAAE,CAAC,CAAC,CAEf;AACA,KAAM,CAAAiE,mBAAmB,CAAG,KAAO,CAAA5G,CAAC,EAAK,CACrCA,CAAC,CAAC6G,cAAc,CAAC,CAAC,CAClB,GAAI,CACA,KAAM,CAAAC,OAAO,CAAG,KAAM,CAAAvJ,aAAa,CAAC2H,MAAM,CAACvC,EAAE,CAAEiD,UAAU,CAAC3E,KAAK,CAAE2E,UAAU,CAACE,WAAW,CAAC,CACxFV,WAAW,CAAC,CAAC,GAAGzG,QAAQ,CAAEmI,OAAO,CAAC,CAAC,CACnCzB,YAAY,CAAA0B,aAAA,CAAAA,aAAA,IAAKnI,SAAS,MAAE,CAACkI,OAAO,CAACnE,EAAE,EAAG,EAAE,EAAC,CAAC,CAC9CgD,qBAAqB,CAAC,KAAK,CAAC,CAC5BE,aAAa,CAAC,CAAE5E,KAAK,CAAE,EAAE,CAAE6E,WAAW,CAAE,EAAG,CAAC,CAAC,CACjD,CAAE,MAAOW,KAAK,CAAE,CACZC,KAAK,4BAAAlF,MAAA,CAA4BiF,KAAK,CAACE,OAAO,CAAE,CAAC,CACrD,CACJ,CAAC,CAED;AACA,KAAM,CAAAK,kBAAkB,CAAIxE,OAAO,EAAK,CACpC+C,kBAAkB,CAAC/C,OAAO,CAAC,CAC3BiD,mBAAmB,CAAC,IAAI,CAAC,CAC7B,CAAC,CAED;AACA,KAAM,CAAAwB,mBAAmB,CAAGA,CAAClD,QAAQ,CAAEvB,OAAO,GAAK,CAC/CiD,mBAAmB,CAAAsB,aAAA,CAAAA,aAAA,IAAMhD,QAAQ,MAAEmD,YAAY,CAAE1E,OAAO,CAACvB,KAAK,EAAE,CAAC,CACjEsE,kBAAkB,CAAC,IAAI,CAAC,CAC5B,CAAC,CAED;AACA,KAAM,CAAA4B,oBAAoB,CAAG,KAAAA,CAAA,GAAY,CACrC,GAAI,CAACpB,eAAe,CAACqB,IAAI,CAAC,CAAC,EAAI,CAAC9B,eAAe,CAAE,OAEjD,GAAI,CACA,KAAM,CAAAwB,OAAO,CAAG,KAAM,CAAArJ,cAAc,CAAC6H,eAAe,CAAC3C,EAAE,CAAEoD,eAAe,CAAC,CACzEV,YAAY,CAAA0B,aAAA,CAAAA,aAAA,IACLnI,SAAS,MACZ,CAAC0G,eAAe,CAAC3C,EAAE,EAAG,CAAC,IAAI/D,SAAS,CAAC0G,eAAe,CAAC3C,EAAE,CAAC,EAAI,EAAE,CAAC,CAAEmE,OAAO,CAAC,EAC5E,CAAC,CACFd,kBAAkB,CAAC,EAAE,CAAC,CAC1B,CAAE,MAAOS,KAAK,CAAE,CACZC,KAAK,+BAAAlF,MAAA,CAA+BiF,KAAK,CAACE,OAAO,CAAE,CAAC,CACxD,CACJ,CAAC,CAED;AACA,KAAM,CAAAU,kBAAkB,CAAG,KAAAA,CAAOC,UAAU,CAAEC,SAAS,GAAK,CACxD,GAAI,CACA,KAAM,CAAA7J,YAAY,CAAC4J,UAAU,CAAE,CAAC,CAAC,CAEjC;AACA,KAAM,CAAAE,gBAAgB,CAAG,KAAM,CAAAhK,YAAY,CAAC+J,SAAS,CAAC,CACtDlC,YAAY,CAAA0B,aAAA,CAAAA,aAAA,IACLnI,SAAS,MACZ,CAAC2I,SAAS,EAAGC,gBAAgB,EAChC,CAAC,CAEF;AACA,GAAIhC,gBAAgB,EAAIA,gBAAgB,CAAC7C,EAAE,GAAK2E,UAAU,CAAE,CACxD,KAAM,CAAAG,OAAO,CAAGD,gBAAgB,CAACE,IAAI,CAACC,CAAC,EAAIA,CAAC,CAAChF,EAAE,GAAK2E,UAAU,CAAC,CAC/D,GAAIG,OAAO,CAAE,CACThC,mBAAmB,CAAAsB,aAAA,CAAAA,aAAA,IAAMU,OAAO,MAAEP,YAAY,CAAE1B,gBAAgB,CAAC0B,YAAY,EAAE,CAAC,CACpF,CACJ,CACJ,CAAE,MAAOT,KAAK,CAAE,CACZC,KAAK,2BAAAlF,MAAA,CAA2BiF,KAAK,CAACE,OAAO,CAAE,CAAC,CACpD,CACJ,CAAC,CAED,KAAM,CAAAiB,OAAO,CAAG3C,IAAI,CAACtC,EAAE,GAAKuC,MAAM,CAAC2C,QAAQ,CAE3C,mBACIvJ,KAAA,QAAKuC,SAAS,CAAC,WAAW,CAAAC,QAAA,eAEtB1C,IAAA,WAAQyC,SAAS,CAAC,oDAAoD,CAAAC,QAAA,cAClExC,KAAA,QAAKuC,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eAClDxC,KAAA,QAAAwC,QAAA,eACI1C,IAAA,OAAIyC,SAAS,CAAC,yGAAyG,CAAAC,QAAA,CAClHoE,MAAM,CAAC4C,IAAI,CACZ,CAAC,cACL1J,IAAA,MAAGyC,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAEoE,MAAM,CAACY,WAAW,CAAI,CAAC,cACxExH,KAAA,QAAKuC,SAAS,CAAC,uEAAuE,CAAAC,QAAA,eAClFxC,KAAA,SAAAwC,QAAA,EAAM,SAAO,CAACoE,MAAM,CAAC6C,UAAU,EAAO,CAAC,cACvC3J,IAAA,SAAA0C,QAAA,CAAM,QAAC,CAAM,CAAC,cACdxC,KAAA,SAAAwC,QAAA,EAAOoE,MAAM,CAAC8C,YAAY,EAAI,CAAC,CAAC,UAAQ,EAAM,CAAC,cAC/C5J,IAAA,SAAA0C,QAAA,CAAM,QAAC,CAAM,CAAC,cACdxC,KAAA,SAAAwC,QAAA,EAAOnC,QAAQ,CAACoC,MAAM,CAAC,WAAS,EAAM,CAAC,EACtC,CAAC,EACL,CAAC,cAENzC,KAAA,QAAKuC,SAAS,CAAC,yBAAyB,CAAAC,QAAA,EACnC8G,OAAO,eACJtJ,KAAA,WACI0C,OAAO,CAAEA,CAAA,GAAM2E,qBAAqB,CAAC,IAAI,CAAE,CAC3C9E,SAAS,CAAC,uHAAuH,CAAAC,QAAA,eAEjI1C,IAAA,CAACP,IAAI,EAACqD,IAAI,CAAE,EAAG,CAAE,CAAC,kBACtB,EAAQ,CACX,cACD9C,IAAA,WACI4C,OAAO,CAAEmE,MAAO,CAChBtE,SAAS,CAAC,mIAAmI,CAAAC,QAAA,CAChJ,aAED,CAAQ,CAAC,EACR,CAAC,EACL,CAAC,CACF,CAAC,CAGRmF,OAAO,cACJ7H,IAAA,QAAKyC,SAAS,CAAC,yDAAyD,CAAAC,QAAA,cACpExC,KAAA,QAAKuC,SAAS,CAAC,aAAa,CAAAC,QAAA,eACxB1C,IAAA,QAAKyC,SAAS,CAAC,0FAA0F,CAAM,CAAC,cAChHzC,IAAA,MAAA0C,QAAA,CAAG,mBAAiB,CAAG,CAAC,EACvB,CAAC,CACL,CAAC,CACNnC,QAAQ,CAACoC,MAAM,GAAK,CAAC,cACrBzC,KAAA,QAAKuC,SAAS,CAAC,qFAAqF,CAAAC,QAAA,eAChG1C,IAAA,MAAGyC,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAC,gCAA8B,CAAG,CAAC,CAC7D8G,OAAO,eACJxJ,IAAA,MAAGyC,SAAS,CAAC,SAAS,CAAAC,QAAA,CAAC,gDAA4C,CAAG,CACzE,EACA,CAAC,cAEN1C,IAAA,CAACK,oBAAoB,EACjBE,QAAQ,CAAEA,QAAS,CACnBC,SAAS,CAAEA,SAAU,CACrBC,cAAc,CAAEmI,kBAAmB,CACnClI,eAAe,CAAEmI,mBAAoB,CACxC,CACJ,CAGA3B,eAAe,eACZlH,IAAA,QAAKyC,SAAS,CAAC,wEAAwE,CAAAC,QAAA,cACnFxC,KAAA,QAAKuC,SAAS,CAAC,wFAAwF,CAAAC,QAAA,eACnGxC,KAAA,QAAKuC,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eAClDxC,KAAA,QAAAwC,QAAA,eACI1C,IAAA,OAAIyC,SAAS,CAAC,uDAAuD,CAAAC,QAAA,CAAEwE,eAAe,CAACrE,KAAK,CAAK,CAAC,cAClG7C,IAAA,MAAGyC,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAEwE,eAAe,CAACQ,WAAW,CAAI,CAAC,cACjFxH,KAAA,QAAKuC,SAAS,CAAC,8BAA8B,CAAAC,QAAA,eACzC1C,IAAA,CAACR,IAAI,EAACsD,IAAI,CAAE,EAAG,CAACqB,IAAI,CAAC,MAAM,CAAC1B,SAAS,CAAC,iBAAiB,CAAE,CAAC,cAC1DvC,KAAA,SAAMuC,SAAS,CAAC,4CAA4C,CAAAC,QAAA,EAAEwE,eAAe,CAACjC,KAAK,EAAI,CAAC,CAAC,QAAM,EAAM,CAAC,EACrG,CAAC,EACL,CAAC,cACNjF,IAAA,WACI4C,OAAO,CAAEA,CAAA,GAAMuE,kBAAkB,CAAC,IAAI,CAAE,CACxC1E,SAAS,CAAC,yDAAyD,CAAAC,QAAA,cAEnE1C,IAAA,CAACN,CAAC,EAACoD,IAAI,CAAE,EAAG,CAAE,CAAC,CACX,CAAC,EACR,CAAC,cAGN5C,KAAA,QAAKuC,SAAS,CAAC,oDAAoD,CAAAC,QAAA,eAC/DxC,KAAA,OAAIuC,SAAS,CAAC,sDAAsD,CAAAC,QAAA,EAAC,aACtD,CAAC,EAAAkE,qBAAA,CAAApG,SAAS,CAAC0G,eAAe,CAAC3C,EAAE,CAAC,UAAAqC,qBAAA,iBAA7BA,qBAAA,CAA+BjE,MAAM,GAAI,CAAC,CAAC,GAC3D,EAAI,CAAC,cAGLzC,KAAA,QAAKuC,SAAS,CAAC,MAAM,CAAAC,QAAA,eACjB1C,IAAA,aACI6J,KAAK,CAAElC,eAAgB,CACvBmC,QAAQ,CAAGlI,CAAC,EAAKgG,kBAAkB,CAAChG,CAAC,CAACC,MAAM,CAACgI,KAAK,CAAE,CACpDE,WAAW,CAAC,wBAAwB,CACpCtH,SAAS,CAAC,yLAAyL,CACnMuH,IAAI,CAAE,CAAE,CACX,CAAC,cACF9J,KAAA,WACI0C,OAAO,CAAEmG,oBAAqB,CAC9BtG,SAAS,CAAC,kHAAkH,CAAAC,QAAA,eAE5H1C,IAAA,CAACL,IAAI,EAACmD,IAAI,CAAE,EAAG,CAAE,CAAC,mBACtB,EAAQ,CAAC,EACR,CAAC,cAGN9C,IAAA,QAAKyC,SAAS,CAAC,WAAW,CAAAC,QAAA,CACrB,CAAClC,SAAS,CAAC0G,eAAe,CAAC3C,EAAE,CAAC,EAAI/D,SAAS,CAAC0G,eAAe,CAAC3C,EAAE,CAAC,CAAC5B,MAAM,GAAK,CAAC,cACzE3C,IAAA,MAAGyC,SAAS,CAAC,mDAAmD,CAAAC,QAAA,CAAC,gGAEjE,CAAG,CAAC,CAEJlC,SAAS,CAAC0G,eAAe,CAAC3C,EAAE,CAAC,CAACZ,GAAG,CAACgC,QAAQ,eACtCzF,KAAA,QAAuBuC,SAAS,CAAC,4CAA4C,CAAAC,QAAA,eACzExC,KAAA,QAAKuC,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eAClD1C,IAAA,SAAMyC,SAAS,CAAC,oDAAoD,CAAAC,QAAA,CAC/DiD,QAAQ,CAACa,WAAW,EAAIb,QAAQ,CAACc,eAAe,CAC/C,CAAC,cACPvG,KAAA,QAAKuC,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eACpCxC,KAAA,SAAMuC,SAAS,CAAC,0DAA0D,CAAAC,QAAA,eACtE1C,IAAA,CAACR,IAAI,EAACsD,IAAI,CAAE,EAAG,CAACqB,IAAI,CAAC,MAAM,CAAC1B,SAAS,CAAC,iBAAiB,CAAE,CAAC,CACzDkD,QAAQ,CAACV,KAAK,EAAI,CAAC,EAClB,CAAC,cACPjF,IAAA,WACI4C,OAAO,CAAEA,CAAA,GAAMqG,kBAAkB,CAACtD,QAAQ,CAACpB,EAAE,CAAE2C,eAAe,CAAC3C,EAAE,CAAE,CACnE9B,SAAS,CAAC,0FAA0F,CAAAC,QAAA,CACvG,WAED,CAAQ,CAAC,EACR,CAAC,EACL,CAAC,cACN1C,IAAA,MAAGyC,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAEiD,QAAQ,CAACsE,IAAI,CAAI,CAAC,GAlB7DtE,QAAQ,CAACpB,EAmBd,CACR,CACJ,CACA,CAAC,EACL,CAAC,EACL,CAAC,CACL,CACR,CAGA6C,gBAAgB,eACbpH,IAAA,QAAKyC,SAAS,CAAC,wEAAwE,CAAAC,QAAA,cACnFxC,KAAA,QAAKuC,SAAS,CAAC,0DAA0D,CAAAC,QAAA,eACrExC,KAAA,QAAKuC,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eAClDxC,KAAA,QAAAwC,QAAA,eACIxC,KAAA,OAAIuC,SAAS,CAAC,sDAAsD,CAAAC,QAAA,EAAC,cACrD,CAAC0E,gBAAgB,CAACZ,WAAW,EAAIY,gBAAgB,CAACX,eAAe,EAC7E,CAAC,cACLvG,KAAA,MAAGuC,SAAS,CAAC,0CAA0C,CAAAC,QAAA,EAAC,OAC/C,CAAC0E,gBAAgB,CAAC0B,YAAY,EACpC,CAAC,EACH,CAAC,cACN9I,IAAA,WACI4C,OAAO,CAAEA,CAAA,GAAMyE,mBAAmB,CAAC,IAAI,CAAE,CACzC5E,SAAS,CAAC,yDAAyD,CAAAC,QAAA,cAEnE1C,IAAA,CAACN,CAAC,EAACoD,IAAI,CAAE,EAAG,CAAE,CAAC,CACX,CAAC,EACR,CAAC,cACN9C,IAAA,MAAGyC,SAAS,CAAC,uCAAuC,CAAAC,QAAA,CAAE0E,gBAAgB,CAAC6C,IAAI,CAAI,CAAC,cAChF/J,KAAA,QAAKuC,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAC9CxC,KAAA,QAAKuC,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eACpC1C,IAAA,CAACR,IAAI,EAACsD,IAAI,CAAE,EAAG,CAACqB,IAAI,CAAC,MAAM,CAAC1B,SAAS,CAAC,iBAAiB,CAAE,CAAC,cAC1DvC,KAAA,SAAMuC,SAAS,CAAC,kCAAkC,CAAAC,QAAA,EAAE0E,gBAAgB,CAACnC,KAAK,EAAI,CAAC,CAAC,QAAM,EAAM,CAAC,EAC5F,CAAC,cACNjF,IAAA,WACI4C,OAAO,CAAEA,CAAA,GAAMqG,kBAAkB,CAAC7B,gBAAgB,CAAC7C,EAAE,CAAE6C,gBAAgB,CAAC8C,UAAU,CAAE,CACpFzH,SAAS,CAAC,4FAA4F,CAAAC,QAAA,CACzG,qBAED,CAAQ,CAAC,EACR,CAAC,EACL,CAAC,CACL,CACR,CAGA4E,kBAAkB,eACftH,IAAA,CAACT,KAAK,EACF4K,MAAM,CAAE7C,kBAAmB,CAC3B8C,OAAO,CAAEA,CAAA,GAAM7C,qBAAqB,CAAC,KAAK,CAAE,CAC5C1E,KAAK,CAAC,sBAAsB,CAAAH,QAAA,cAE5BxC,KAAA,QAAKuC,SAAS,CAAC,WAAW,CAAAC,QAAA,eACtB1C,IAAA,UACIqK,IAAI,CAAC,MAAM,CACXN,WAAW,CAAC,eAAe,CAC3BF,KAAK,CAAErC,UAAU,CAAC3E,KAAM,CACxBiH,QAAQ,CAAGlI,CAAC,EAAK6F,aAAa,CAAAkB,aAAA,CAAAA,aAAA,IAAKnB,UAAU,MAAE3E,KAAK,CAAEjB,CAAC,CAACC,MAAM,CAACgI,KAAK,EAAC,CAAE,CACvEpH,SAAS,CAAC,8HAA8H,CAC3I,CAAC,cACFzC,IAAA,aACI+J,WAAW,CAAC,iCAAiC,CAC7CF,KAAK,CAAErC,UAAU,CAACE,WAAY,CAC9BoC,QAAQ,CAAGlI,CAAC,EAAK6F,aAAa,CAAAkB,aAAA,CAAAA,aAAA,IAAKnB,UAAU,MAAEE,WAAW,CAAE9F,CAAC,CAACC,MAAM,CAACgI,KAAK,EAAC,CAAE,CAC7EG,IAAI,CAAE,CAAE,CACRvH,SAAS,CAAC,8HAA8H,CAC3I,CAAC,cACFzC,IAAA,WACI4C,OAAO,CAAE4F,mBAAoB,CAC7B/F,SAAS,CAAC,oGAAoG,CAAAC,QAAA,CACjH,gBAED,CAAQ,CAAC,EACR,CAAC,CACH,CACV,EACA,CAAC,CAEd,CAAC,CAED,cAAe,CAAAgE,UAAU,CACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}