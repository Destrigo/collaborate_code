{"ast":null,"code":"// frontend/src/components/user/UserProfile.jsx\nimport React,{useState,useEffect}from'react';import{Star,Award,TrendingUp,Globe,Users,Target,X,Edit2,Save}from'lucide-react';import{getUserStats,updateUserProfile,getUserAchievements}from'../../services/api';// User Profile Modal Component\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const UserProfileModal=_ref=>{let{user,isOpen,onClose,onUpdateUser}=_ref;const[isEditing,setIsEditing]=useState(false);const[editedUsername,setEditedUsername]=useState((user===null||user===void 0?void 0:user.username)||'');const[stats,setStats]=useState({totalSolutions:0,totalProblems:0,galaxiesJoined:0,averageRating:0,rank:0,totalUsers:0});const[achievements,setAchievements]=useState([]);const[recentActivity,setRecentActivity]=useState([]);useEffect(()=>{if(isOpen&&user){setEditedUsername(user.username);loadUserStats();loadAchievements();}},[isOpen,user]);const loadUserStats=async()=>{try{const data=await getUserStats(user.id);setStats(data.stats);setRecentActivity(data.recentActivity||[]);}catch(error){console.error('Failed to load user stats:',error);}};const loadAchievements=async()=>{try{const data=await getUserAchievements(user.id);setAchievements(data.achievements||[]);}catch(error){console.error('Failed to load achievements:',error);}};const handleSaveProfile=async()=>{try{const updated=await updateUserProfile(user.id,{username:editedUsername});onUpdateUser(updated);setIsEditing(false);}catch(error){alert(error.message);}};const displayAchievements=achievements.length>0?achievements:[{icon:'ðŸŒ±',name:'Newcomer',desc:'Just getting started!',unlocked:true}];const getRankBadge=()=>{if(stats.rank<=10)return{color:'from-yellow-400 to-orange-500',label:'Top 10',icon:'ðŸ‘‘'};if(stats.rank<=50)return{color:'from-purple-400 to-pink-500',label:'Top 50',icon:'ðŸ’Ž'};if(stats.rank<=100)return{color:'from-blue-400 to-cyan-500',label:'Top 100',icon:'ðŸŒŸ'};return{color:'from-gray-400 to-gray-600',label:\"#\".concat(stats.rank),icon:'ðŸ”µ'};};const formatRelativeTime=timestamp=>{const now=new Date();const time=new Date(timestamp);const diff=now-time;const minutes=Math.floor(diff/60000);const hours=Math.floor(diff/3600000);const days=Math.floor(diff/86400000);if(minutes<1)return'Just now';if(minutes<60)return\"\".concat(minutes,\" minute\").concat(minutes!==1?'s':'',\" ago\");if(hours<24)return\"\".concat(hours,\" hour\").concat(hours!==1?'s':'',\" ago\");return\"\".concat(days,\" day\").concat(days!==1?'s':'',\" ago\");};const rankBadge=getRankBadge();if(!isOpen)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[200] p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative bg-gradient-to-r from-purple-600 to-pink-600 p-6 rounded-t-2xl\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"absolute top-4 right-4 p-2 hover:bg-white/20 rounded-lg transition-colors text-white\",children:/*#__PURE__*/_jsx(X,{size:20})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-24 h-24 rounded-full bg-gradient-to-br from-yellow-400 to-orange-500 flex items-center justify-center text-4xl font-bold text-white shadow-xl border-4 border-white/30\",children:user.username.charAt(0).toUpperCase()}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 text-white\",children:[isEditing?/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:editedUsername,onChange:e=>setEditedUsername(e.target.value),className:\"bg-white/20 backdrop-blur-sm border border-white/30 rounded-lg px-3 py-2 text-white placeholder-white/60 text-xl font-bold\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSaveProfile,className:\"p-2 bg-white/20 hover:bg-white/30 rounded-lg transition-colors\",children:/*#__PURE__*/_jsx(Save,{size:20})})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold\",children:user.username}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsEditing(true),className:\"p-1.5 hover:bg-white/20 rounded-lg transition-colors\",children:/*#__PURE__*/_jsx(Edit2,{size:18})})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-white/80 text-sm mt-1\",children:user.email}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4 mt-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 bg-white/20 backdrop-blur-sm px-3 py-1 rounded-full\",children:[/*#__PURE__*/_jsx(Star,{size:16,fill:\"gold\",className:\"text-yellow-300\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-bold\",children:user.rating||0})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 bg-gradient-to-r \".concat(rankBadge.color,\" px-3 py-1 rounded-full text-white font-bold\"),children:[/*#__PURE__*/_jsx(\"span\",{children:rankBadge.icon}),/*#__PURE__*/_jsx(\"span\",{children:rankBadge.label})]})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 grid grid-cols-2 md:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsx(StatCard,{icon:/*#__PURE__*/_jsx(Target,{className:\"text-purple-500\"}),label:\"Solutions\",value:stats.totalSolutions,color:\"purple\"}),/*#__PURE__*/_jsx(StatCard,{icon:/*#__PURE__*/_jsx(Globe,{className:\"text-blue-500\"}),label:\"Problems\",value:stats.totalProblems,color:\"blue\"}),/*#__PURE__*/_jsx(StatCard,{icon:/*#__PURE__*/_jsx(Users,{className:\"text-green-500\"}),label:\"Galaxies\",value:stats.galaxiesJoined,color:\"green\"}),/*#__PURE__*/_jsx(StatCard,{icon:/*#__PURE__*/_jsx(TrendingUp,{className:\"text-orange-500\"}),label:\"Avg Rating\",value:stats.averageRating,color:\"orange\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"px-6 pb-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-xl font-bold mb-4 flex items-center gap-2 text-gray-900 dark:text-white\",children:[/*#__PURE__*/_jsx(Award,{className:\"text-yellow-500\",size:24}),\"Achievements\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-3\",children:displayAchievements.map((achievement,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(achievement.unlocked?'bg-gradient-to-r from-yellow-50 to-orange-50 dark:from-yellow-900/20 dark:to-orange-900/20 border-2 border-yellow-200 dark:border-yellow-700':'bg-gray-100 dark:bg-gray-700 border-2 border-gray-300 dark:border-gray-600 opacity-50',\" rounded-lg p-4 flex items-center gap-3\"),children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-3xl\",children:achievement.icon}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-bold text-gray-900 dark:text-white\",children:achievement.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 dark:text-gray-400\",children:achievement.desc})]}),achievement.unlocked&&/*#__PURE__*/_jsx(\"span\",{className:\"ml-auto text-green-500 text-xl\",children:\"\\u2713\"})]},idx))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"px-6 pb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold mb-4 text-gray-900 dark:text-white\",children:\"Recent Activity\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:recentActivity.length>0?recentActivity.map((activity,idx)=>/*#__PURE__*/_jsx(ActivityItem,{icon:activity.icon,text:activity.text,time:formatRelativeTime(activity.time)},idx)):/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-gray-500 dark:text-gray-400 py-4\",children:\"No recent activity yet. Start solving problems!\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"px-6 pb-6 text-center text-sm text-gray-500 dark:text-gray-400\",children:[\"Member since \",new Date(user.created_at||Date.now()).toLocaleDateString('en-US',{month:'long',year:'numeric'})]})]})});};// Stat Card Component\nconst StatCard=_ref2=>{let{icon,label,value,color}=_ref2;const colorClasses={purple:'from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 border-purple-200 dark:border-purple-700',blue:'from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 border-blue-200 dark:border-blue-700',green:'from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 border-green-200 dark:border-green-700',orange:'from-orange-50 to-orange-100 dark:from-orange-900/20 dark:to-orange-800/20 border-orange-200 dark:border-orange-700'};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br \".concat(colorClasses[color],\" border-2 rounded-lg p-4 text-center\"),children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center mb-2\",children:icon}),/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-gray-900 dark:text-white\",children:value}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-600 dark:text-gray-400 mt-1\",children:label})]});};// Activity Item Component\nconst ActivityItem=_ref3=>{let{icon,text,time}=_ref3;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl\",children:icon}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-900 dark:text-white\",children:text}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 dark:text-gray-400\",children:time})]})]});};export default UserProfileModal;","map":{"version":3,"names":["React","useState","useEffect","Star","Award","TrendingUp","Globe","Users","Target","X","Edit2","Save","getUserStats","updateUserProfile","getUserAchievements","jsx","_jsx","jsxs","_jsxs","UserProfileModal","_ref","user","isOpen","onClose","onUpdateUser","isEditing","setIsEditing","editedUsername","setEditedUsername","username","stats","setStats","totalSolutions","totalProblems","galaxiesJoined","averageRating","rank","totalUsers","achievements","setAchievements","recentActivity","setRecentActivity","loadUserStats","loadAchievements","data","id","error","console","handleSaveProfile","updated","alert","message","displayAchievements","length","icon","name","desc","unlocked","getRankBadge","color","label","concat","formatRelativeTime","timestamp","now","Date","time","diff","minutes","Math","floor","hours","days","rankBadge","className","children","onClick","size","charAt","toUpperCase","type","value","onChange","e","target","email","fill","rating","StatCard","map","achievement","idx","activity","ActivityItem","text","created_at","toLocaleDateString","month","year","_ref2","colorClasses","purple","blue","green","orange","_ref3"],"sources":["/home/marco/workstation/stormbrainer/frontend_lvb_stormbrainer/stormbrainer/frontend/src/components/user/UserProfileModal.jsx"],"sourcesContent":["// frontend/src/components/user/UserProfile.jsx\n\nimport React, { useState, useEffect } from 'react';\nimport { Star, Award, TrendingUp, Globe, Users, Target, X, Edit2, Save } from 'lucide-react';\nimport { getUserStats, updateUserProfile, getUserAchievements } from '../../services/api';\n\n// User Profile Modal Component\nconst UserProfileModal = ({ user, isOpen, onClose, onUpdateUser }) => {\n  const [isEditing, setIsEditing] = useState(false);\n  const [editedUsername, setEditedUsername] = useState(user?.username || '');\n  const [stats, setStats] = useState({\n    totalSolutions: 0,\n    totalProblems: 0,\n    galaxiesJoined: 0,\n    averageRating: 0,\n    rank: 0,\n    totalUsers: 0\n  });\n  const [achievements, setAchievements] = useState([]);\n  const [recentActivity, setRecentActivity] = useState([]);\n\n  useEffect(() => {\n    if (isOpen && user) {\n      setEditedUsername(user.username);\n      loadUserStats();\n      loadAchievements();\n    }\n  }, [isOpen, user]);\n\n  const loadUserStats = async () => {\n    try {\n      const data = await getUserStats(user.id);\n      setStats(data.stats);\n      setRecentActivity(data.recentActivity || []);\n    } catch (error) {\n      console.error('Failed to load user stats:', error);\n    }\n  };\n\n  const loadAchievements = async () => {\n    try {\n      const data = await getUserAchievements(user.id);\n      setAchievements(data.achievements || []);\n    } catch (error) {\n      console.error('Failed to load achievements:', error);\n    }\n  };\n\n  const handleSaveProfile = async () => {\n    try {\n      const updated = await updateUserProfile(user.id, { username: editedUsername });\n      onUpdateUser(updated);\n      setIsEditing(false);\n    } catch (error) {\n      alert(error.message);\n    }\n  };\n\n  const displayAchievements = achievements.length > 0 \n    ? achievements \n    : [{ icon: 'ðŸŒ±', name: 'Newcomer', desc: 'Just getting started!', unlocked: true }];\n\n  const getRankBadge = () => {\n    if (stats.rank <= 10) return { color: 'from-yellow-400 to-orange-500', label: 'Top 10', icon: 'ðŸ‘‘' };\n    if (stats.rank <= 50) return { color: 'from-purple-400 to-pink-500', label: 'Top 50', icon: 'ðŸ’Ž' };\n    if (stats.rank <= 100) return { color: 'from-blue-400 to-cyan-500', label: 'Top 100', icon: 'ðŸŒŸ' };\n    return { color: 'from-gray-400 to-gray-600', label: `#${stats.rank}`, icon: 'ðŸ”µ' };\n  };\n\n  const formatRelativeTime = (timestamp) => {\n    const now = new Date();\n    const time = new Date(timestamp);\n    const diff = now - time;\n    \n    const minutes = Math.floor(diff / 60000);\n    const hours = Math.floor(diff / 3600000);\n    const days = Math.floor(diff / 86400000);\n    \n    if (minutes < 1) return 'Just now';\n    if (minutes < 60) return `${minutes} minute${minutes !== 1 ? 's' : ''} ago`;\n    if (hours < 24) return `${hours} hour${hours !== 1 ? 's' : ''} ago`;\n    return `${days} day${days !== 1 ? 's' : ''} ago`;\n  };\n\n  const rankBadge = getRankBadge();\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[200] p-4\">\n      <div className=\"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\n        {/* Header */}\n        <div className=\"relative bg-gradient-to-r from-purple-600 to-pink-600 p-6 rounded-t-2xl\">\n          <button\n            onClick={onClose}\n            className=\"absolute top-4 right-4 p-2 hover:bg-white/20 rounded-lg transition-colors text-white\"\n          >\n            <X size={20} />\n          </button>\n          \n          <div className=\"flex items-center gap-4\">\n            {/* Avatar */}\n            <div className=\"w-24 h-24 rounded-full bg-gradient-to-br from-yellow-400 to-orange-500 flex items-center justify-center text-4xl font-bold text-white shadow-xl border-4 border-white/30\">\n              {user.username.charAt(0).toUpperCase()}\n            </div>\n            \n            {/* User Info */}\n            <div className=\"flex-1 text-white\">\n              {isEditing ? (\n                <div className=\"flex items-center gap-2\">\n                  <input\n                    type=\"text\"\n                    value={editedUsername}\n                    onChange={(e) => setEditedUsername(e.target.value)}\n                    className=\"bg-white/20 backdrop-blur-sm border border-white/30 rounded-lg px-3 py-2 text-white placeholder-white/60 text-xl font-bold\"\n                  />\n                  <button\n                    onClick={handleSaveProfile}\n                    className=\"p-2 bg-white/20 hover:bg-white/30 rounded-lg transition-colors\"\n                  >\n                    <Save size={20} />\n                  </button>\n                </div>\n              ) : (\n                <div className=\"flex items-center gap-2\">\n                  <h2 className=\"text-3xl font-bold\">{user.username}</h2>\n                  <button\n                    onClick={() => setIsEditing(true)}\n                    className=\"p-1.5 hover:bg-white/20 rounded-lg transition-colors\"\n                  >\n                    <Edit2 size={18} />\n                  </button>\n                </div>\n              )}\n              <p className=\"text-white/80 text-sm mt-1\">{user.email}</p>\n              <div className=\"flex items-center gap-4 mt-3\">\n                <div className=\"flex items-center gap-2 bg-white/20 backdrop-blur-sm px-3 py-1 rounded-full\">\n                  <Star size={16} fill=\"gold\" className=\"text-yellow-300\" />\n                  <span className=\"font-bold\">{user.rating || 0}</span>\n                </div>\n                <div className={`flex items-center gap-2 bg-gradient-to-r ${rankBadge.color} px-3 py-1 rounded-full text-white font-bold`}>\n                  <span>{rankBadge.icon}</span>\n                  <span>{rankBadge.label}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Stats Grid */}\n        <div className=\"p-6 grid grid-cols-2 md:grid-cols-4 gap-4\">\n          <StatCard\n            icon={<Target className=\"text-purple-500\" />}\n            label=\"Solutions\"\n            value={stats.totalSolutions}\n            color=\"purple\"\n          />\n          <StatCard\n            icon={<Globe className=\"text-blue-500\" />}\n            label=\"Problems\"\n            value={stats.totalProblems}\n            color=\"blue\"\n          />\n          <StatCard\n            icon={<Users className=\"text-green-500\" />}\n            label=\"Galaxies\"\n            value={stats.galaxiesJoined}\n            color=\"green\"\n          />\n          <StatCard\n            icon={<TrendingUp className=\"text-orange-500\" />}\n            label=\"Avg Rating\"\n            value={stats.averageRating}\n            color=\"orange\"\n          />\n        </div>\n\n        {/* Achievements */}\n        <div className=\"px-6 pb-6\">\n          <h3 className=\"text-xl font-bold mb-4 flex items-center gap-2 text-gray-900 dark:text-white\">\n            <Award className=\"text-yellow-500\" size={24} />\n            Achievements\n          </h3>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\n            {displayAchievements.map((achievement, idx) => (\n              <div\n                key={idx}\n                className={`${achievement.unlocked \n                  ? 'bg-gradient-to-r from-yellow-50 to-orange-50 dark:from-yellow-900/20 dark:to-orange-900/20 border-2 border-yellow-200 dark:border-yellow-700' \n                  : 'bg-gray-100 dark:bg-gray-700 border-2 border-gray-300 dark:border-gray-600 opacity-50'\n                } rounded-lg p-4 flex items-center gap-3`}\n              >\n                <span className=\"text-3xl\">{achievement.icon}</span>\n                <div className=\"flex-1\">\n                  <h4 className=\"font-bold text-gray-900 dark:text-white\">{achievement.name}</h4>\n                  <p className=\"text-sm text-gray-600 dark:text-gray-400\">{achievement.desc}</p>\n                </div>\n                {achievement.unlocked && <span className=\"ml-auto text-green-500 text-xl\">âœ“</span>}\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {/* Activity Summary */}\n        <div className=\"px-6 pb-6\">\n          <h3 className=\"text-xl font-bold mb-4 text-gray-900 dark:text-white\">Recent Activity</h3>\n          <div className=\"space-y-2\">\n            {recentActivity.length > 0 ? (\n              recentActivity.map((activity, idx) => (\n                <ActivityItem\n                  key={idx}\n                  icon={activity.icon}\n                  text={activity.text}\n                  time={formatRelativeTime(activity.time)}\n                />\n              ))\n            ) : (\n              <p className=\"text-center text-gray-500 dark:text-gray-400 py-4\">\n                No recent activity yet. Start solving problems!\n              </p>\n            )}\n          </div>\n        </div>\n\n        {/* Member Since */}\n        <div className=\"px-6 pb-6 text-center text-sm text-gray-500 dark:text-gray-400\">\n          Member since {new Date(user.created_at || Date.now()).toLocaleDateString('en-US', { \n            month: 'long', \n            year: 'numeric' \n          })}\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// Stat Card Component\nconst StatCard = ({ icon, label, value, color }) => {\n  const colorClasses = {\n    purple: 'from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 border-purple-200 dark:border-purple-700',\n    blue: 'from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 border-blue-200 dark:border-blue-700',\n    green: 'from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 border-green-200 dark:border-green-700',\n    orange: 'from-orange-50 to-orange-100 dark:from-orange-900/20 dark:to-orange-800/20 border-orange-200 dark:border-orange-700'\n  };\n\n  return (\n    <div className={`bg-gradient-to-br ${colorClasses[color]} border-2 rounded-lg p-4 text-center`}>\n      <div className=\"flex justify-center mb-2\">{icon}</div>\n      <div className=\"text-2xl font-bold text-gray-900 dark:text-white\">{value}</div>\n      <div className=\"text-xs text-gray-600 dark:text-gray-400 mt-1\">{label}</div>\n    </div>\n  );\n};\n\n// Activity Item Component\nconst ActivityItem = ({ icon, text, time }) => (\n  <div className=\"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg\">\n    <span className=\"text-2xl\">{icon}</span>\n    <div className=\"flex-1\">\n      <p className=\"text-sm text-gray-900 dark:text-white\">{text}</p>\n      <p className=\"text-xs text-gray-500 dark:text-gray-400\">{time}</p>\n    </div>\n  </div>\n);\n\nexport default UserProfileModal;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}