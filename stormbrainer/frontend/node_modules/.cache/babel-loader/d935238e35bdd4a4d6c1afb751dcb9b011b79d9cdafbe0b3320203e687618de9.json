{"ast":null,"code":"// // export default App;\n// import { useState, useEffect, useMemo } from \"react\";\n// import { Loader2, Star, LogOut, Sun, Moon, User } from \"lucide-react\";\n// import AuthComponent from \"./components/auth/LoginForm\";\n// import GalaxyViewComponent from \"./components/galaxy/GalaxyView\";\n// import LeaderboardComponent from \"./components/Leaderboard\";\n// import GalaxyListComponent from \"./components/galaxy/GalaxyList\";\n// import UserProfileModal from \"./components/user/UserProfileModal\";\n// import { getCurrentUser } from \"./services/api\";\n// // ============================================\n// // SOLAR SYSTEM COMPONENTS - ADD THESE\n// // ============================================\n// // Solar System Galaxy Visualization Component\n// const SolarSystemGalaxy = ({ problems, onProblemClick }) => {\n//   if (!problems || problems.length === 0) {\n//     return (\n//       <div className=\"flex items-center justify-center h-96 text-gray-500 dark:text-gray-400\">\n//         No problems in this galaxy yet\n//       </div>\n//     );\n//   }\n//   return (\n//     <div className=\"relative w-full h-[80vh] min-h-[500px] bg-gradient-to-b from-indigo-950 via-purple-900 to-black rounded-xl overflow-hidden\">\n//       {/* Starry background */}\n//       <div className=\"absolute inset-0\">\n//         {[...Array(100)].map((_, i) => (\n//           <div\n//             key={i}\n//             className=\"absolute rounded-full bg-white animate-pulse\"\n//             style={{\n//               width: Math.random() * 2 + 1 + 'px',\n//               height: Math.random() * 2 + 1 + 'px',\n//               top: Math.random() * 100 + '%',\n//               left: Math.random() * 100 + '%',\n//               opacity: Math.random() * 0.7 + 0.3,\n//               animationDuration: Math.random() * 3 + 2 + 's',\n//               animationDelay: Math.random() * 2 + 's'\n//             }}\n//           />\n//         ))}\n//       </div>\n//       {/* Central Sun */}\n//       <div className=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-10\">\n//         <div className=\"relative\">\n//           {/* Sun glow effect */}\n//           <div className=\"absolute inset-0 rounded-full bg-yellow-400 opacity-30 blur-3xl animate-pulse\" \n//                style={{ width: '150px', height: '150px', margin: '-25px' }} />\n//           {/* Sun core */}\n//           <div className=\"relative w-24 h-24 rounded-full bg-gradient-to-br from-yellow-300 via-yellow-400 to-orange-500 shadow-2xl flex items-center justify-center animate-pulse\">\n//             <Star className=\"w-12 h-12 text-white\" fill=\"white\" />\n//           </div>\n//         </div>\n//       </div>\n//       {/* Orbiting Problems as Planets */}\n//       {problems.map((problem, index) => (\n//         <OrbitingPlanet\n//           key={problem.id}\n//           problem={problem}\n//           orbitIndex={index}\n//           totalPlanets={problems.length}\n//           onClick={() => onProblemClick(problem)}\n//         />\n//       ))}\n//     </div>\n//   );\n// };\n// // Individual Orbiting Planet Component\n// const OrbitingPlanet = ({ problem, orbitIndex, totalPlanets, onClick }) => {\n//   const [rotation, setRotation] = useState(0);\n//   // Calculate orbit radius (distance from sun)\n//   const baseOrbitRadius = 120;\n//   const orbitRadius = baseOrbitRadius + (orbitIndex * 60);\n//   // Calculate planet size based on stars (rating)\n//   const baseSize = 40;\n//   const planetSize = Math.min(baseSize + (problem.stars || 0) * 3, 80);\n//   // Much slower orbit speeds for smoother animation (60-100 seconds per orbit)\n//   const orbitSpeed = 60 + (orbitIndex * 10);\n//   // Different starting positions to spread planets\n//   const startAngle = (orbitIndex * 360) / totalPlanets;\n//   useEffect(() => {\n//     const interval = setInterval(() => {\n//       setRotation(prev => (prev + 0.1) % 360); // Slower increment for smoother animation\n//     }, 50); // Update more frequently but with smaller steps\n//     return () => clearInterval(interval);\n//   }, []);\n//   // Calculate planet position\n//   const angle = ((rotation + startAngle) * Math.PI) / 180;\n//   const x = 50 + (orbitRadius / 6) * Math.cos(angle);\n//   const y = 50 + (orbitRadius / 6) * Math.sin(angle);\n//   // Planet colors based on index\n//   const planetColors = [\n//     'from-blue-400 to-blue-600',\n//     'from-red-400 to-red-600',\n//     'from-green-400 to-green-600',\n//     'from-purple-400 to-purple-600',\n//     'from-pink-400 to-pink-600',\n//     'from-cyan-400 to-cyan-600',\n//     'from-orange-400 to-orange-600',\n//     'from-teal-400 to-teal-600',\n//   ];\n//   return (\n//     <>\n//       {/* Orbit path */}\n//       <div\n//         className=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 rounded-full border border-white/10\"\n//         style={{\n//           width: `${(orbitRadius / 3)}%`,\n//           height: `${(orbitRadius / 3)}%`,\n//         }}\n//       />\n//       {/* Planet */}\n//       <div\n//         className=\"absolute cursor-pointer transition-transform hover:scale-125 z-20\"\n//         style={{\n//           left: `${x}%`,\n//           top: `${y}%`,\n//           transform: 'translate(-50%, -50%)',\n//         }}\n//         onClick={onClick}\n//       >\n//         {/* Planet glow */}\n//         <div\n//           className={`absolute inset-0 rounded-full bg-gradient-to-br ${planetColors[orbitIndex % planetColors.length]} opacity-40 blur-xl`}\n//           style={{ width: `${planetSize + 20}px`, height: `${planetSize + 20}px`, margin: '-10px' }}\n//         />\n//         {/* Planet body */}\n//         <div\n//           className={`relative rounded-full bg-gradient-to-br ${planetColors[orbitIndex % planetColors.length]} shadow-2xl flex items-center justify-center border-2 border-white/20`}\n//           style={{ width: `${planetSize}px`, height: `${planetSize}px` }}\n//         >\n//           {/* Planet texture/pattern */}\n//           <div className=\"absolute inset-0 rounded-full opacity-20 bg-gradient-to-br from-white/30 via-transparent to-black/30\" />\n//           {/* Planet title (on hover) */}\n//           <div className=\"absolute -top-8 left-1/2 -translate-x-1/2 opacity-0 hover:opacity-100 transition-opacity bg-black/80 px-2 py-1 rounded text-white text-xs whitespace-nowrap pointer-events-none\">\n//             {problem.title}\n//           </div>\n//         </div>\n//         {/* Star rating badge */}\n//         <div className=\"absolute -bottom-2 -right-2 bg-yellow-400 rounded-full px-2 py-1 text-xs font-bold flex items-center gap-1 shadow-lg\">\n//           <Star size={12} fill=\"currentColor\" className=\"text-yellow-600\" />\n//           {problem.stars || 0}\n//         </div>\n//       </div>\n//     </>\n//   );\n// };\n// // ============================================\n// // MAIN APP COMPONENT\n// // ============================================\n// const App = () => {\n//     const [user, setUser] = useState(null);\n//     const [view, setView] = useState('browser'); \n//     const [currentGalaxy, setCurrentGalaxy] = useState(null);\n//     const [loadingAuth, setLoadingAuth] = useState(true);\n//     const [isProfileOpen, setIsProfileOpen] = useState(false);\n//     const [showProfileMenu, setShowProfileMenu] = useState(false);\n//     const [darkMode, setDarkMode] = useState(() => {\n//         const savedTheme = localStorage.getItem('theme');\n//         return savedTheme ? savedTheme === 'dark' : true; \n//     });\n//     // Generate stars once on mount\n//     const stars = useMemo(() => {\n//         return Array.from({ length: 200 }).map(() => ({\n//             x: Math.random() * 100,\n//             y: Math.random() * 100,\n//             size: Math.random() * 2 + 1,\n//             duration: Math.random() * 3 + 2\n//         }));\n//     }, []);\n//     useEffect(() => {\n//         const checkAuth = async () => {\n//             const token = localStorage.getItem('token');\n//             if (token) {\n//                 try {\n//                     const userData = await getCurrentUser();\n//                     setUser(userData);\n//                 } catch (error) {\n//                     localStorage.removeItem('token'); \n//                     setUser(null);\n//                 }\n//             }\n//             setLoadingAuth(false);\n//         };\n//         checkAuth();\n//     }, []);\n//     useEffect(() => {\n//         if (darkMode) {\n//             document.documentElement.classList.add('dark');\n//             localStorage.setItem('theme', 'dark');\n//         } else {\n//             document.documentElement.classList.remove('dark');\n//             localStorage.setItem('theme', 'light');\n//         }\n//     }, [darkMode]);\n//     const handleLogin = (userData) => {\n//         setUser(userData);\n//         setView('browser');\n//     };\n//     const handleUpdateUser = (updatedUser) => {\n//         setUser(updatedUser);\n//     };\n//     const handleLogout = () => {\n//         localStorage.removeItem('token');\n//         setUser(null);\n//         setCurrentGalaxy(null);\n//         setView('browser');\n//     };\n//     const enterGalaxy = (galaxy) => {\n//         setCurrentGalaxy(galaxy);\n//         setView('galaxy');\n//     };\n//     const renderContent = () => {\n//         if (loadingAuth) {\n//             return (\n//                 <div className=\"flex items-center justify-center h-96\">\n//                     <Loader2 className=\"animate-spin mr-3 text-purple-500\" size={40} />\n//                     <span className=\"text-xl text-gray-500 dark:text-gray-400\">Checking credentials...</span>\n//                 </div>\n//             );\n//         }\n//         if (!user) {\n//             return <AuthComponent onLogin={handleLogin} />;\n//         }\n//         if (view === 'galaxy' && currentGalaxy) {\n//             return (\n//                 <GalaxyViewComponent \n//                     user={user} \n//                     galaxy={currentGalaxy} \n//                     goBack={() => { setView('browser'); setCurrentGalaxy(null); }}\n//                     SolarSystemGalaxy={SolarSystemGalaxy}\n//                 />\n//             );\n//         }\n//         if (view === 'leaderboard') {\n//             return <LeaderboardComponent />;\n//         }\n//         return <GalaxyListComponent user={user} onEnterGalaxy={enterGalaxy} />;\n//     };\n//     return (\n//         <div className=\"min-h-screen font-sans antialiased transition-colors duration-300 bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100\">\n//             {/* Starry Background */}\n//             <div className=\"fixed inset-0 -z-10 overflow-hidden pointer-events-none\">\n//                 <div className=\"absolute inset-0 bg-gradient-to-b from-gray-900 via-purple-900/20 to-gray-900\">\n//                     {stars.map((star, i) => (\n//                         <div\n//                             key={i}\n//                             className=\"absolute rounded-full bg-white\"\n//                             style={{\n//                                 left: `${star.x}%`,\n//                                 top: `${star.y}%`,\n//                                 width: `${star.size}px`,\n//                                 height: `${star.size}px`,\n//                                 opacity: 0.6,\n//                                 animation: `twinkle ${star.duration}s ease-in-out infinite`,\n//                                 animationDelay: `${Math.random() * 2}s`\n//                             }}\n//                         />\n//                     ))}\n//                 </div>\n//             </div>\n//             {/* Header */}\n//             <header className=\"sticky top-0 z-50 p-4 border-b border-gray-200 dark:border-gray-800 backdrop-blur-md bg-white/70 dark:bg-gray-900/80\">\n//                 <div className=\"flex items-center justify-between max-w-7xl mx-auto\">\n//                     <h1 \n//                         className=\"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-600 cursor-pointer\"\n//                         onClick={() => setView('browser')}\n//                     >\n//                         StormBrainer üåå\n//                     </h1>\n//                     <nav className=\"flex items-center space-x-2 sm:space-x-4\">\n//                         {user && (\n//                             <>\n//                                 <button\n//                                     onClick={() => setView('browser')}\n//                                     className={`px-3 py-1.5 text-sm font-medium rounded-lg transition-colors hidden sm:block ${\n//                                         view === 'browser' \n//                                             ? 'bg-purple-600 text-white' \n//                                             : 'text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700'\n//                                     }`}\n//                                 >\n//                                     Galaxies\n//                                 </button>\n//                                 <button\n//                                     onClick={() => setView('leaderboard')}\n//                                     className={`px-3 py-1.5 text-sm font-medium rounded-lg transition-colors hidden sm:block ${\n//                                         view === 'leaderboard' \n//                                             ? 'bg-yellow-500 text-gray-900' \n//                                             : 'text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700'\n//                                     }`}\n//                                 >\n//                                     Leaderboard ‚≠ê\n//                                 </button>\n//                                 {/* USER PROFILE SECTION - NEW */}\n//                                 <div className=\"relative\">\n//                                     <button\n//                                         onClick={() => setShowProfileMenu(!showProfileMenu)}\n//                                         className=\"flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors\"\n//                                     >\n//                                         {/* Avatar */}\n//                                         <div className=\"w-8 h-8 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center text-white font-bold text-sm\">\n//                                             {user.username.charAt(0).toUpperCase()}\n//                                         </div>\n//                                         {/* User Info - Hidden on mobile */}\n//                                         <div className=\"text-left hidden lg:block\">\n//                                             <div className=\"text-sm font-semibold text-gray-900 dark:text-white\">\n//                                                 {user.username}\n//                                             </div>\n//                                             <div className=\"text-xs text-gray-500 dark:text-gray-400 flex items-center gap-1\">\n//                                                 <Star size={10} fill=\"gold\" className=\"text-yellow-500\" />\n//                                                 {user.rating || 0}\n//                                             </div>\n//                                         </div>\n//                                     </button>\n//                                     {/* Dropdown Menu */}\n//                                     {showProfileMenu && (\n//                                         <div className=\"absolute right-0 mt-2 w-56 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 py-2 z-50\">\n//                                             <button\n//                                                 onClick={() => {\n//                                                     setIsProfileOpen(true);\n//                                                     setShowProfileMenu(false);\n//                                                 }}\n//                                                 className=\"w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-3 text-gray-900 dark:text-white transition-colors\"\n//                                             >\n//                                                 <User size={16} />\n//                                                 View Profile\n//                                             </button>\n//                                             <hr className=\"my-2 border-gray-200 dark:border-gray-700\" />\n//                                             <button\n//                                                 onClick={handleLogout}\n//                                                 className=\"w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-3 text-red-600 dark:text-red-400 transition-colors\"\n//                                             >\n//                                                 <LogOut size={16} />\n//                                                 Logout\n//                                             </button>\n//                                         </div>\n//                                     )}\n//                                 </div>\n//                             </>\n//                         )}\n//                         <button\n//                             onClick={() => setDarkMode(!darkMode)}\n//                             className=\"p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-800 transition-colors text-gray-700 dark:text-gray-300\"\n//                             title={darkMode ? 'Switch to Light Mode' : 'Switch to Dark Mode'}\n//                         >\n//                             {darkMode ? <Sun size={20} /> : <Moon size={20} />}\n//                         </button>\n//                     </nav>\n//                 </div>\n//             </header>\n//             {/* Main Content */}\n//             <main className=\"max-w-7xl mx-auto p-4 sm:p-6\">\n//                 {renderContent()}\n//             </main>\n//             {/* User Profile Modal */}\n//             {user && (\n//                 <UserProfileModal\n//                     user={user}\n//                     isOpen={isProfileOpen}\n//                     onClose={() => setIsProfileOpen(false)}\n//                     onUpdateUser={handleUpdateUser}\n//                 />\n//             )}\n//         </div>\n//     );\n// };\n// export default App;\nimport{useState,useEffect,useMemo}from\"react\";import{Routes,Route,useNavigate,Navigate}from\"react-router-dom\";import{Loader2,Star,LogOut,Sun,Moon,User}from\"lucide-react\";import LoginPage from\"./pages/LoginPage\";import RegisterPage from\"./pages/RegisterPage\";import GalaxyViewComponent from\"./components/galaxy/GalaxyView\";import LeaderboardComponent from\"./components/Leaderboard\";import GalaxyListComponent from\"./components/galaxy/GalaxyList\";import UserProfileModal from\"./components/user/UserProfileModal\";import{getCurrentUser}from\"./services/api\";// ============================================\n// SOLAR SYSTEM COMPONENTS (same as before)\n// ============================================\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const SolarSystemGalaxy=_ref=>{let{problems,onProblemClick}=_ref;if(!problems||problems.length===0){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-96 text-gray-500 dark:text-gray-400\",children:\"No problems in this galaxy yet\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-full h-[80vh] min-h-[500px] bg-gradient-to-b from-indigo-950 via-purple-900 to-black rounded-xl overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0\",children:[...Array(100)].map((_,i)=>/*#__PURE__*/_jsx(\"div\",{className:\"absolute rounded-full bg-white animate-pulse\",style:{width:Math.random()*2+1+'px',height:Math.random()*2+1+'px',top:Math.random()*100+'%',left:Math.random()*100+'%',opacity:Math.random()*0.7+0.3,animationDuration:Math.random()*3+2+'s',animationDelay:Math.random()*2+'s'}},i))}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-10\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 rounded-full bg-yellow-400 opacity-30 blur-3xl animate-pulse\",style:{width:'150px',height:'150px',margin:'-25px'}}),/*#__PURE__*/_jsx(\"div\",{className:\"relative w-24 h-24 rounded-full bg-gradient-to-br from-yellow-300 via-yellow-400 to-orange-500 shadow-2xl flex items-center justify-center animate-pulse\",children:/*#__PURE__*/_jsx(Star,{className:\"w-12 h-12 text-white\",fill:\"white\"})})]})}),problems.map((problem,index)=>/*#__PURE__*/_jsx(OrbitingPlanet,{problem:problem,orbitIndex:index,totalPlanets:problems.length,onClick:()=>onProblemClick(problem)},problem.id))]});};const OrbitingPlanet=_ref2=>{let{problem,orbitIndex,totalPlanets,onClick}=_ref2;const[rotation,setRotation]=useState(0);const baseOrbitRadius=120;const orbitRadius=baseOrbitRadius+orbitIndex*60;const baseSize=40;const planetSize=Math.min(baseSize+(problem.stars||0)*3,80);const startAngle=orbitIndex*360/totalPlanets;useEffect(()=>{const interval=setInterval(()=>setRotation(prev=>(prev+0.1)%360),50);return()=>clearInterval(interval);},[]);const angle=(rotation+startAngle)*Math.PI/180;const x=50+orbitRadius/6*Math.cos(angle);const y=50+orbitRadius/6*Math.sin(angle);const planetColors=['from-blue-400 to-blue-600','from-red-400 to-red-600','from-green-400 to-green-600','from-purple-400 to-purple-600','from-pink-400 to-pink-600','from-cyan-400 to-cyan-600','from-orange-400 to-orange-600','from-teal-400 to-teal-600'];return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 rounded-full border border-white/10\",style:{width:\"\".concat(orbitRadius/3,\"%\"),height:\"\".concat(orbitRadius/3,\"%\")}}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute cursor-pointer transition-transform hover:scale-125 z-20\",style:{left:\"\".concat(x,\"%\"),top:\"\".concat(y,\"%\"),transform:'translate(-50%, -50%)'},onClick:onClick,children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 rounded-full bg-gradient-to-br \".concat(planetColors[orbitIndex%planetColors.length],\" opacity-40 blur-xl\"),style:{width:\"\".concat(planetSize+20,\"px\"),height:\"\".concat(planetSize+20,\"px\"),margin:'-10px'}}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative rounded-full bg-gradient-to-br \".concat(planetColors[orbitIndex%planetColors.length],\" shadow-2xl flex items-center justify-center border-2 border-white/20\"),style:{width:\"\".concat(planetSize,\"px\"),height:\"\".concat(planetSize,\"px\")},children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 rounded-full opacity-20 bg-gradient-to-br from-white/30 via-transparent to-black/30\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute -top-8 left-1/2 -translate-x-1/2 opacity-0 hover:opacity-100 transition-opacity bg-black/80 px-2 py-1 rounded text-white text-xs whitespace-nowrap pointer-events-none\",children:problem.title})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute -bottom-2 -right-2 bg-yellow-400 rounded-full px-2 py-1 text-xs font-bold flex items-center gap-1 shadow-lg\",children:[/*#__PURE__*/_jsx(Star,{size:12,fill:\"currentColor\",className:\"text-yellow-600\"}),problem.stars||0]})]})]});};// ============================================\n// MAIN APP\n// ============================================\nconst App=()=>{const[user,setUser]=useState(null);const[loadingAuth,setLoadingAuth]=useState(true);const[darkMode,setDarkMode]=useState(()=>{const savedTheme=localStorage.getItem('theme');return savedTheme?savedTheme==='dark':true;});useEffect(()=>{const checkAuth=async()=>{const token=localStorage.getItem('token');if(token){try{const userData=await getCurrentUser();setUser(userData);}catch(_unused){localStorage.removeItem('token');}}setLoadingAuth(false);};checkAuth();},[]);useEffect(()=>{if(darkMode){document.documentElement.classList.add('dark');localStorage.setItem('theme','dark');}else{document.documentElement.classList.remove('dark');localStorage.setItem('theme','light');}},[darkMode]);const handleUpdateUser=updatedUser=>setUser(updatedUser);const handleLogout=()=>{localStorage.removeItem('token');setUser(null);};if(loadingAuth){return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center min-h-screen\",children:[/*#__PURE__*/_jsx(Loader2,{className:\"animate-spin mr-3 text-purple-500\",size:40}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xl text-gray-500 dark:text-gray-400\",children:\"Checking credentials...\"})]});}return/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:user?/*#__PURE__*/_jsx(Navigate,{to:\"/\"}):/*#__PURE__*/_jsx(LoginPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:user?/*#__PURE__*/_jsx(Navigate,{to:\"/\"}):/*#__PURE__*/_jsx(RegisterPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/*\",element:user?/*#__PURE__*/_jsx(MainApp,{user:user,onLogout:handleLogout,onUpdateUser:handleUpdateUser,darkMode:darkMode,setDarkMode:setDarkMode}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})})]});};export default App;// ============================================\n// MainApp component (wrap your current header/content)\n// ============================================\nconst MainApp=_ref3=>{let{user,onLogout,onUpdateUser,darkMode,setDarkMode}=_ref3;const[view,setView]=useState(\"browser\");const[currentGalaxy,setCurrentGalaxy]=useState(null);const[isProfileOpen,setIsProfileOpen]=useState(false);const[showProfileMenu,setShowProfileMenu]=useState(false);const stars=useMemo(()=>Array.from({length:200}).map(()=>({x:Math.random()*100,y:Math.random()*100,size:Math.random()*2+1,duration:Math.random()*3+2})),[]);const enterGalaxy=galaxy=>{setCurrentGalaxy(galaxy);setView(\"galaxy\");};const renderContent=()=>{if(view===\"galaxy\"&&currentGalaxy){return/*#__PURE__*/_jsx(GalaxyViewComponent,{user:user,galaxy:currentGalaxy,goBack:()=>{setView(\"browser\");setCurrentGalaxy(null);},SolarSystemGalaxy:SolarSystemGalaxy});}if(view===\"leaderboard\")return/*#__PURE__*/_jsx(LeaderboardComponent,{});return/*#__PURE__*/_jsx(GalaxyListComponent,{user:user,onEnterGalaxy:enterGalaxy});};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen font-sans antialiased transition-colors duration-300 bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 -z-10 overflow-hidden pointer-events-none\",children:/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-gradient-to-b from-gray-900 via-purple-900/20 to-gray-900\",children:stars.map((star,i)=>/*#__PURE__*/_jsx(\"div\",{className:\"absolute rounded-full bg-white\",style:{left:\"\".concat(star.x,\"%\"),top:\"\".concat(star.y,\"%\"),width:\"\".concat(star.size,\"px\"),height:\"\".concat(star.size,\"px\"),opacity:0.6,animation:\"twinkle \".concat(star.duration,\"s ease-in-out infinite\"),animationDelay:\"\".concat(Math.random()*2,\"s\")}},i))})}),/*#__PURE__*/_jsx(\"header\",{className:\"sticky top-0 z-50 p-4 border-b border-gray-200 dark:border-gray-800 backdrop-blur-md bg-white/70 dark:bg-gray-900/80\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between max-w-7xl mx-auto\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-600 cursor-pointer\",onClick:()=>setView(\"browser\"),children:\"StormBrainer \\uD83C\\uDF0C\"}),/*#__PURE__*/_jsxs(\"nav\",{className:\"flex items-center space-x-2 sm:space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setView(\"browser\"),className:\"px-3 py-1.5 text-sm font-medium rounded-lg transition-colors hidden sm:block \".concat(view===\"browser\"?\"bg-purple-600 text-white\":\"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700\"),children:\"Galaxies\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setView(\"leaderboard\"),className:\"px-3 py-1.5 text-sm font-medium rounded-lg transition-colors hidden sm:block \".concat(view===\"leaderboard\"?\"bg-yellow-500 text-gray-900\":\"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700\"),children:\"Leaderboard \\u2B50\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowProfileMenu(!showProfileMenu),className:\"flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center text-white font-bold text-sm\",children:user.username.charAt(0).toUpperCase()}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-left hidden lg:block\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-semibold text-gray-900 dark:text-white\",children:user.username}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500 dark:text-gray-400 flex items-center gap-1\",children:[/*#__PURE__*/_jsx(Star,{size:10,fill:\"gold\",className:\"text-yellow-500\"}),user.rating||0]})]})]}),showProfileMenu&&/*#__PURE__*/_jsxs(\"div\",{className:\"absolute right-0 mt-2 w-56 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 py-2 z-50\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setIsProfileOpen(true);setShowProfileMenu(false);},className:\"w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-3 text-gray-900 dark:text-white transition-colors\",children:[/*#__PURE__*/_jsx(User,{size:16}),\"View Profile\"]}),/*#__PURE__*/_jsx(\"hr\",{className:\"my-2 border-gray-200 dark:border-gray-700\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:onLogout,className:\"w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-3 text-red-600 dark:text-red-400 transition-colors\",children:[/*#__PURE__*/_jsx(LogOut,{size:16}),\"Logout\"]})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setDarkMode(!darkMode),className:\"p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-800 transition-colors text-gray-700 dark:text-gray-300\",children:darkMode?/*#__PURE__*/_jsx(Sun,{size:20}):/*#__PURE__*/_jsx(Moon,{size:20})})]})]})}),/*#__PURE__*/_jsx(\"main\",{className:\"max-w-7xl mx-auto p-4 sm:p-6\",children:renderContent()}),/*#__PURE__*/_jsx(UserProfileModal,{user:user,isOpen:isProfileOpen,onClose:()=>setIsProfileOpen(false),onUpdateUser:onUpdateUser})]});};","map":{"version":3,"names":["useState","useEffect","useMemo","Routes","Route","useNavigate","Navigate","Loader2","Star","LogOut","Sun","Moon","User","LoginPage","RegisterPage","GalaxyViewComponent","LeaderboardComponent","GalaxyListComponent","UserProfileModal","getCurrentUser","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SolarSystemGalaxy","_ref","problems","onProblemClick","length","className","children","Array","map","_","i","style","width","Math","random","height","top","left","opacity","animationDuration","animationDelay","margin","fill","problem","index","OrbitingPlanet","orbitIndex","totalPlanets","onClick","id","_ref2","rotation","setRotation","baseOrbitRadius","orbitRadius","baseSize","planetSize","min","stars","startAngle","interval","setInterval","prev","clearInterval","angle","PI","x","cos","y","sin","planetColors","concat","transform","title","size","App","user","setUser","loadingAuth","setLoadingAuth","darkMode","setDarkMode","savedTheme","localStorage","getItem","checkAuth","token","userData","_unused","removeItem","document","documentElement","classList","add","setItem","remove","handleUpdateUser","updatedUser","handleLogout","path","element","to","MainApp","onLogout","onUpdateUser","_ref3","view","setView","currentGalaxy","setCurrentGalaxy","isProfileOpen","setIsProfileOpen","showProfileMenu","setShowProfileMenu","from","duration","enterGalaxy","galaxy","renderContent","goBack","onEnterGalaxy","star","animation","username","charAt","toUpperCase","rating","isOpen","onClose"],"sources":["/home/marco/workstation/stormbrainer/frontend_lvb_stormbrainer/stormbrainer/frontend/src/App.jsx"],"sourcesContent":["// // export default App;\n// import { useState, useEffect, useMemo } from \"react\";\n// import { Loader2, Star, LogOut, Sun, Moon, User } from \"lucide-react\";\n// import AuthComponent from \"./components/auth/LoginForm\";\n// import GalaxyViewComponent from \"./components/galaxy/GalaxyView\";\n// import LeaderboardComponent from \"./components/Leaderboard\";\n// import GalaxyListComponent from \"./components/galaxy/GalaxyList\";\n// import UserProfileModal from \"./components/user/UserProfileModal\";\n// import { getCurrentUser } from \"./services/api\";\n\n// // ============================================\n// // SOLAR SYSTEM COMPONENTS - ADD THESE\n// // ============================================\n\n// // Solar System Galaxy Visualization Component\n// const SolarSystemGalaxy = ({ problems, onProblemClick }) => {\n//   if (!problems || problems.length === 0) {\n//     return (\n//       <div className=\"flex items-center justify-center h-96 text-gray-500 dark:text-gray-400\">\n//         No problems in this galaxy yet\n//       </div>\n//     );\n//   }\n\n//   return (\n//     <div className=\"relative w-full h-[80vh] min-h-[500px] bg-gradient-to-b from-indigo-950 via-purple-900 to-black rounded-xl overflow-hidden\">\n//       {/* Starry background */}\n//       <div className=\"absolute inset-0\">\n//         {[...Array(100)].map((_, i) => (\n//           <div\n//             key={i}\n//             className=\"absolute rounded-full bg-white animate-pulse\"\n//             style={{\n//               width: Math.random() * 2 + 1 + 'px',\n//               height: Math.random() * 2 + 1 + 'px',\n//               top: Math.random() * 100 + '%',\n//               left: Math.random() * 100 + '%',\n//               opacity: Math.random() * 0.7 + 0.3,\n//               animationDuration: Math.random() * 3 + 2 + 's',\n//               animationDelay: Math.random() * 2 + 's'\n//             }}\n//           />\n//         ))}\n//       </div>\n\n//       {/* Central Sun */}\n//       <div className=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-10\">\n//         <div className=\"relative\">\n//           {/* Sun glow effect */}\n//           <div className=\"absolute inset-0 rounded-full bg-yellow-400 opacity-30 blur-3xl animate-pulse\" \n//                style={{ width: '150px', height: '150px', margin: '-25px' }} />\n          \n//           {/* Sun core */}\n//           <div className=\"relative w-24 h-24 rounded-full bg-gradient-to-br from-yellow-300 via-yellow-400 to-orange-500 shadow-2xl flex items-center justify-center animate-pulse\">\n//             <Star className=\"w-12 h-12 text-white\" fill=\"white\" />\n//           </div>\n//         </div>\n//       </div>\n\n//       {/* Orbiting Problems as Planets */}\n//       {problems.map((problem, index) => (\n//         <OrbitingPlanet\n//           key={problem.id}\n//           problem={problem}\n//           orbitIndex={index}\n//           totalPlanets={problems.length}\n//           onClick={() => onProblemClick(problem)}\n//         />\n//       ))}\n//     </div>\n//   );\n// };\n\n// // Individual Orbiting Planet Component\n// const OrbitingPlanet = ({ problem, orbitIndex, totalPlanets, onClick }) => {\n//   const [rotation, setRotation] = useState(0);\n\n//   // Calculate orbit radius (distance from sun)\n//   const baseOrbitRadius = 120;\n//   const orbitRadius = baseOrbitRadius + (orbitIndex * 60);\n  \n//   // Calculate planet size based on stars (rating)\n//   const baseSize = 40;\n//   const planetSize = Math.min(baseSize + (problem.stars || 0) * 3, 80);\n  \n//   // Much slower orbit speeds for smoother animation (60-100 seconds per orbit)\n//   const orbitSpeed = 60 + (orbitIndex * 10);\n  \n//   // Different starting positions to spread planets\n//   const startAngle = (orbitIndex * 360) / totalPlanets;\n\n//   useEffect(() => {\n//     const interval = setInterval(() => {\n//       setRotation(prev => (prev + 0.1) % 360); // Slower increment for smoother animation\n//     }, 50); // Update more frequently but with smaller steps\n\n//     return () => clearInterval(interval);\n//   }, []);\n\n//   // Calculate planet position\n//   const angle = ((rotation + startAngle) * Math.PI) / 180;\n//   const x = 50 + (orbitRadius / 6) * Math.cos(angle);\n//   const y = 50 + (orbitRadius / 6) * Math.sin(angle);\n\n//   // Planet colors based on index\n//   const planetColors = [\n//     'from-blue-400 to-blue-600',\n//     'from-red-400 to-red-600',\n//     'from-green-400 to-green-600',\n//     'from-purple-400 to-purple-600',\n//     'from-pink-400 to-pink-600',\n//     'from-cyan-400 to-cyan-600',\n//     'from-orange-400 to-orange-600',\n//     'from-teal-400 to-teal-600',\n//   ];\n\n//   return (\n//     <>\n//       {/* Orbit path */}\n//       <div\n//         className=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 rounded-full border border-white/10\"\n//         style={{\n//           width: `${(orbitRadius / 3)}%`,\n//           height: `${(orbitRadius / 3)}%`,\n//         }}\n//       />\n\n//       {/* Planet */}\n//       <div\n//         className=\"absolute cursor-pointer transition-transform hover:scale-125 z-20\"\n//         style={{\n//           left: `${x}%`,\n//           top: `${y}%`,\n//           transform: 'translate(-50%, -50%)',\n//         }}\n//         onClick={onClick}\n//       >\n//         {/* Planet glow */}\n//         <div\n//           className={`absolute inset-0 rounded-full bg-gradient-to-br ${planetColors[orbitIndex % planetColors.length]} opacity-40 blur-xl`}\n//           style={{ width: `${planetSize + 20}px`, height: `${planetSize + 20}px`, margin: '-10px' }}\n//         />\n\n//         {/* Planet body */}\n//         <div\n//           className={`relative rounded-full bg-gradient-to-br ${planetColors[orbitIndex % planetColors.length]} shadow-2xl flex items-center justify-center border-2 border-white/20`}\n//           style={{ width: `${planetSize}px`, height: `${planetSize}px` }}\n//         >\n//           {/* Planet texture/pattern */}\n//           <div className=\"absolute inset-0 rounded-full opacity-20 bg-gradient-to-br from-white/30 via-transparent to-black/30\" />\n          \n//           {/* Planet title (on hover) */}\n//           <div className=\"absolute -top-8 left-1/2 -translate-x-1/2 opacity-0 hover:opacity-100 transition-opacity bg-black/80 px-2 py-1 rounded text-white text-xs whitespace-nowrap pointer-events-none\">\n//             {problem.title}\n//           </div>\n//         </div>\n\n//         {/* Star rating badge */}\n//         <div className=\"absolute -bottom-2 -right-2 bg-yellow-400 rounded-full px-2 py-1 text-xs font-bold flex items-center gap-1 shadow-lg\">\n//           <Star size={12} fill=\"currentColor\" className=\"text-yellow-600\" />\n//           {problem.stars || 0}\n//         </div>\n//       </div>\n//     </>\n//   );\n// };\n\n// // ============================================\n// // MAIN APP COMPONENT\n// // ============================================\n\n// const App = () => {\n//     const [user, setUser] = useState(null);\n//     const [view, setView] = useState('browser'); \n//     const [currentGalaxy, setCurrentGalaxy] = useState(null);\n//     const [loadingAuth, setLoadingAuth] = useState(true);\n//     const [isProfileOpen, setIsProfileOpen] = useState(false);\n//     const [showProfileMenu, setShowProfileMenu] = useState(false);\n\n//     const [darkMode, setDarkMode] = useState(() => {\n//         const savedTheme = localStorage.getItem('theme');\n//         return savedTheme ? savedTheme === 'dark' : true; \n//     });\n\n//     // Generate stars once on mount\n//     const stars = useMemo(() => {\n//         return Array.from({ length: 200 }).map(() => ({\n//             x: Math.random() * 100,\n//             y: Math.random() * 100,\n//             size: Math.random() * 2 + 1,\n//             duration: Math.random() * 3 + 2\n//         }));\n//     }, []);\n\n//     useEffect(() => {\n//         const checkAuth = async () => {\n//             const token = localStorage.getItem('token');\n//             if (token) {\n//                 try {\n//                     const userData = await getCurrentUser();\n//                     setUser(userData);\n//                 } catch (error) {\n//                     localStorage.removeItem('token'); \n//                     setUser(null);\n//                 }\n//             }\n//             setLoadingAuth(false);\n//         };\n//         checkAuth();\n//     }, []);\n\n//     useEffect(() => {\n//         if (darkMode) {\n//             document.documentElement.classList.add('dark');\n//             localStorage.setItem('theme', 'dark');\n//         } else {\n//             document.documentElement.classList.remove('dark');\n//             localStorage.setItem('theme', 'light');\n//         }\n//     }, [darkMode]);\n    \n//     const handleLogin = (userData) => {\n//         setUser(userData);\n//         setView('browser');\n//     };\n\n//     const handleUpdateUser = (updatedUser) => {\n//         setUser(updatedUser);\n//     };\n\n//     const handleLogout = () => {\n//         localStorage.removeItem('token');\n//         setUser(null);\n//         setCurrentGalaxy(null);\n//         setView('browser');\n//     };\n\n//     const enterGalaxy = (galaxy) => {\n//         setCurrentGalaxy(galaxy);\n//         setView('galaxy');\n//     };\n\n//     const renderContent = () => {\n//         if (loadingAuth) {\n//             return (\n//                 <div className=\"flex items-center justify-center h-96\">\n//                     <Loader2 className=\"animate-spin mr-3 text-purple-500\" size={40} />\n//                     <span className=\"text-xl text-gray-500 dark:text-gray-400\">Checking credentials...</span>\n//                 </div>\n//             );\n//         }\n        \n//         if (!user) {\n//             return <AuthComponent onLogin={handleLogin} />;\n//         }\n\n//         if (view === 'galaxy' && currentGalaxy) {\n//             return (\n//                 <GalaxyViewComponent \n//                     user={user} \n//                     galaxy={currentGalaxy} \n//                     goBack={() => { setView('browser'); setCurrentGalaxy(null); }}\n//                     SolarSystemGalaxy={SolarSystemGalaxy}\n//                 />\n//             );\n//         }\n        \n//         if (view === 'leaderboard') {\n//             return <LeaderboardComponent />;\n//         }\n        \n//         return <GalaxyListComponent user={user} onEnterGalaxy={enterGalaxy} />;\n//     };\n\n//     return (\n//         <div className=\"min-h-screen font-sans antialiased transition-colors duration-300 bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100\">\n//             {/* Starry Background */}\n//             <div className=\"fixed inset-0 -z-10 overflow-hidden pointer-events-none\">\n//                 <div className=\"absolute inset-0 bg-gradient-to-b from-gray-900 via-purple-900/20 to-gray-900\">\n//                     {stars.map((star, i) => (\n//                         <div\n//                             key={i}\n//                             className=\"absolute rounded-full bg-white\"\n//                             style={{\n//                                 left: `${star.x}%`,\n//                                 top: `${star.y}%`,\n//                                 width: `${star.size}px`,\n//                                 height: `${star.size}px`,\n//                                 opacity: 0.6,\n//                                 animation: `twinkle ${star.duration}s ease-in-out infinite`,\n//                                 animationDelay: `${Math.random() * 2}s`\n//                             }}\n//                         />\n//                     ))}\n//                 </div>\n//             </div>\n            \n//             {/* Header */}\n//             <header className=\"sticky top-0 z-50 p-4 border-b border-gray-200 dark:border-gray-800 backdrop-blur-md bg-white/70 dark:bg-gray-900/80\">\n//                 <div className=\"flex items-center justify-between max-w-7xl mx-auto\">\n//                     <h1 \n//                         className=\"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-600 cursor-pointer\"\n//                         onClick={() => setView('browser')}\n//                     >\n//                         StormBrainer üåå\n//                     </h1>\n//                     <nav className=\"flex items-center space-x-2 sm:space-x-4\">\n//                         {user && (\n//                             <>\n//                                 <button\n//                                     onClick={() => setView('browser')}\n//                                     className={`px-3 py-1.5 text-sm font-medium rounded-lg transition-colors hidden sm:block ${\n//                                         view === 'browser' \n//                                             ? 'bg-purple-600 text-white' \n//                                             : 'text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700'\n//                                     }`}\n//                                 >\n//                                     Galaxies\n//                                 </button>\n//                                 <button\n//                                     onClick={() => setView('leaderboard')}\n//                                     className={`px-3 py-1.5 text-sm font-medium rounded-lg transition-colors hidden sm:block ${\n//                                         view === 'leaderboard' \n//                                             ? 'bg-yellow-500 text-gray-900' \n//                                             : 'text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700'\n//                                     }`}\n//                                 >\n//                                     Leaderboard ‚≠ê\n//                                 </button>\n                                \n//                                 {/* USER PROFILE SECTION - NEW */}\n//                                 <div className=\"relative\">\n//                                     <button\n//                                         onClick={() => setShowProfileMenu(!showProfileMenu)}\n//                                         className=\"flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors\"\n//                                     >\n//                                         {/* Avatar */}\n//                                         <div className=\"w-8 h-8 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center text-white font-bold text-sm\">\n//                                             {user.username.charAt(0).toUpperCase()}\n//                                         </div>\n                                        \n//                                         {/* User Info - Hidden on mobile */}\n//                                         <div className=\"text-left hidden lg:block\">\n//                                             <div className=\"text-sm font-semibold text-gray-900 dark:text-white\">\n//                                                 {user.username}\n//                                             </div>\n//                                             <div className=\"text-xs text-gray-500 dark:text-gray-400 flex items-center gap-1\">\n//                                                 <Star size={10} fill=\"gold\" className=\"text-yellow-500\" />\n//                                                 {user.rating || 0}\n//                                             </div>\n//                                         </div>\n//                                     </button>\n\n//                                     {/* Dropdown Menu */}\n//                                     {showProfileMenu && (\n//                                         <div className=\"absolute right-0 mt-2 w-56 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 py-2 z-50\">\n//                                             <button\n//                                                 onClick={() => {\n//                                                     setIsProfileOpen(true);\n//                                                     setShowProfileMenu(false);\n//                                                 }}\n//                                                 className=\"w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-3 text-gray-900 dark:text-white transition-colors\"\n//                                             >\n//                                                 <User size={16} />\n//                                                 View Profile\n//                                             </button>\n//                                             <hr className=\"my-2 border-gray-200 dark:border-gray-700\" />\n//                                             <button\n//                                                 onClick={handleLogout}\n//                                                 className=\"w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-3 text-red-600 dark:text-red-400 transition-colors\"\n//                                             >\n//                                                 <LogOut size={16} />\n//                                                 Logout\n//                                             </button>\n//                                         </div>\n//                                     )}\n//                                 </div>\n//                             </>\n//                         )}\n//                         <button\n//                             onClick={() => setDarkMode(!darkMode)}\n//                             className=\"p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-800 transition-colors text-gray-700 dark:text-gray-300\"\n//                             title={darkMode ? 'Switch to Light Mode' : 'Switch to Dark Mode'}\n//                         >\n//                             {darkMode ? <Sun size={20} /> : <Moon size={20} />}\n//                         </button>\n//                     </nav>\n//                 </div>\n//             </header>\n\n//             {/* Main Content */}\n//             <main className=\"max-w-7xl mx-auto p-4 sm:p-6\">\n//                 {renderContent()}\n//             </main>\n\n//             {/* User Profile Modal */}\n//             {user && (\n//                 <UserProfileModal\n//                     user={user}\n//                     isOpen={isProfileOpen}\n//                     onClose={() => setIsProfileOpen(false)}\n//                     onUpdateUser={handleUpdateUser}\n//                 />\n//             )}\n//         </div>\n//     );\n// };\n\n// export default App;\nimport { useState, useEffect, useMemo } from \"react\";\nimport { Routes, Route, useNavigate, Navigate } from \"react-router-dom\";\nimport { Loader2, Star, LogOut, Sun, Moon, User } from \"lucide-react\";\n\nimport LoginPage from \"./pages/LoginPage\";\nimport RegisterPage from \"./pages/RegisterPage\";\n\nimport GalaxyViewComponent from \"./components/galaxy/GalaxyView\";\nimport LeaderboardComponent from \"./components/Leaderboard\";\nimport GalaxyListComponent from \"./components/galaxy/GalaxyList\";\nimport UserProfileModal from \"./components/user/UserProfileModal\";\nimport { getCurrentUser } from \"./services/api\";\n\n// ============================================\n// SOLAR SYSTEM COMPONENTS (same as before)\n// ============================================\nconst SolarSystemGalaxy = ({ problems, onProblemClick }) => {\n  if (!problems || problems.length === 0) {\n    return (\n      <div className=\"flex items-center justify-center h-96 text-gray-500 dark:text-gray-400\">\n        No problems in this galaxy yet\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"relative w-full h-[80vh] min-h-[500px] bg-gradient-to-b from-indigo-950 via-purple-900 to-black rounded-xl overflow-hidden\">\n      <div className=\"absolute inset-0\">\n        {[...Array(100)].map((_, i) => (\n          <div\n            key={i}\n            className=\"absolute rounded-full bg-white animate-pulse\"\n            style={{\n              width: Math.random() * 2 + 1 + 'px',\n              height: Math.random() * 2 + 1 + 'px',\n              top: Math.random() * 100 + '%',\n              left: Math.random() * 100 + '%',\n              opacity: Math.random() * 0.7 + 0.3,\n              animationDuration: Math.random() * 3 + 2 + 's',\n              animationDelay: Math.random() * 2 + 's'\n            }}\n          />\n        ))}\n      </div>\n      {/* Central Sun */}\n      <div className=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-10\">\n        <div className=\"relative\">\n          <div className=\"absolute inset-0 rounded-full bg-yellow-400 opacity-30 blur-3xl animate-pulse\" \n               style={{ width: '150px', height: '150px', margin: '-25px' }} />\n          <div className=\"relative w-24 h-24 rounded-full bg-gradient-to-br from-yellow-300 via-yellow-400 to-orange-500 shadow-2xl flex items-center justify-center animate-pulse\">\n            <Star className=\"w-12 h-12 text-white\" fill=\"white\" />\n          </div>\n        </div>\n      </div>\n      {problems.map((problem, index) => (\n        <OrbitingPlanet\n          key={problem.id}\n          problem={problem}\n          orbitIndex={index}\n          totalPlanets={problems.length}\n          onClick={() => onProblemClick(problem)}\n        />\n      ))}\n    </div>\n  );\n};\n\nconst OrbitingPlanet = ({ problem, orbitIndex, totalPlanets, onClick }) => {\n  const [rotation, setRotation] = useState(0);\n  const baseOrbitRadius = 120;\n  const orbitRadius = baseOrbitRadius + orbitIndex * 60;\n  const baseSize = 40;\n  const planetSize = Math.min(baseSize + (problem.stars || 0) * 3, 80);\n  const startAngle = (orbitIndex * 360) / totalPlanets;\n\n  useEffect(() => {\n    const interval = setInterval(() => setRotation(prev => (prev + 0.1) % 360), 50);\n    return () => clearInterval(interval);\n  }, []);\n\n  const angle = ((rotation + startAngle) * Math.PI) / 180;\n  const x = 50 + (orbitRadius / 6) * Math.cos(angle);\n  const y = 50 + (orbitRadius / 6) * Math.sin(angle);\n\n  const planetColors = [\n    'from-blue-400 to-blue-600',\n    'from-red-400 to-red-600',\n    'from-green-400 to-green-600',\n    'from-purple-400 to-purple-600',\n    'from-pink-400 to-pink-600',\n    'from-cyan-400 to-cyan-600',\n    'from-orange-400 to-orange-600',\n    'from-teal-400 to-teal-600',\n  ];\n\n  return (\n    <>\n      <div\n        className=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 rounded-full border border-white/10\"\n        style={{ width: `${orbitRadius / 3}%`, height: `${orbitRadius / 3}%` }}\n      />\n      <div\n        className=\"absolute cursor-pointer transition-transform hover:scale-125 z-20\"\n        style={{ left: `${x}%`, top: `${y}%`, transform: 'translate(-50%, -50%)' }}\n        onClick={onClick}\n      >\n        <div\n          className={`absolute inset-0 rounded-full bg-gradient-to-br ${planetColors[orbitIndex % planetColors.length]} opacity-40 blur-xl`}\n          style={{ width: `${planetSize + 20}px`, height: `${planetSize + 20}px`, margin: '-10px' }}\n        />\n        <div\n          className={`relative rounded-full bg-gradient-to-br ${planetColors[orbitIndex % planetColors.length]} shadow-2xl flex items-center justify-center border-2 border-white/20`}\n          style={{ width: `${planetSize}px`, height: `${planetSize}px` }}\n        >\n          <div className=\"absolute inset-0 rounded-full opacity-20 bg-gradient-to-br from-white/30 via-transparent to-black/30\" />\n          <div className=\"absolute -top-8 left-1/2 -translate-x-1/2 opacity-0 hover:opacity-100 transition-opacity bg-black/80 px-2 py-1 rounded text-white text-xs whitespace-nowrap pointer-events-none\">\n            {problem.title}\n          </div>\n        </div>\n        <div className=\"absolute -bottom-2 -right-2 bg-yellow-400 rounded-full px-2 py-1 text-xs font-bold flex items-center gap-1 shadow-lg\">\n          <Star size={12} fill=\"currentColor\" className=\"text-yellow-600\" />\n          {problem.stars || 0}\n        </div>\n      </div>\n    </>\n  );\n};\n\n// ============================================\n// MAIN APP\n// ============================================\nconst App = () => {\n  const [user, setUser] = useState(null);\n  const [loadingAuth, setLoadingAuth] = useState(true);\n  const [darkMode, setDarkMode] = useState(() => {\n    const savedTheme = localStorage.getItem('theme');\n    return savedTheme ? savedTheme === 'dark' : true;\n  });\n\n  useEffect(() => {\n    const checkAuth = async () => {\n      const token = localStorage.getItem('token');\n      if (token) {\n        try {\n          const userData = await getCurrentUser();\n          setUser(userData);\n        } catch {\n          localStorage.removeItem('token');\n        }\n      }\n      setLoadingAuth(false);\n    };\n    checkAuth();\n  }, []);\n\n  useEffect(() => {\n    if (darkMode) {\n      document.documentElement.classList.add('dark');\n      localStorage.setItem('theme', 'dark');\n    } else {\n      document.documentElement.classList.remove('dark');\n      localStorage.setItem('theme', 'light');\n    }\n  }, [darkMode]);\n\n  const handleUpdateUser = (updatedUser) => setUser(updatedUser);\n  const handleLogout = () => { localStorage.removeItem('token'); setUser(null); };\n\n  if (loadingAuth) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <Loader2 className=\"animate-spin mr-3 text-purple-500\" size={40} />\n        <span className=\"text-xl text-gray-500 dark:text-gray-400\">Checking credentials...</span>\n      </div>\n    );\n  }\n\n  return (\n    <Routes>\n      {/* Public Routes */}\n      <Route path=\"/login\" element={user ? <Navigate to=\"/\" /> : <LoginPage />} />\n      <Route path=\"/register\" element={user ? <Navigate to=\"/\" /> : <RegisterPage />} />\n\n      {/* Protected Routes */}\n      <Route path=\"/*\" element={user ? (\n        <MainApp user={user} onLogout={handleLogout} onUpdateUser={handleUpdateUser} darkMode={darkMode} setDarkMode={setDarkMode} />\n      ) : (\n        <Navigate to=\"/login\" />\n      )} />\n    </Routes>\n  );\n};\n\nexport default App;\n\n// ============================================\n// MainApp component (wrap your current header/content)\n// ============================================\nconst MainApp = ({ user, onLogout, onUpdateUser, darkMode, setDarkMode }) => {\n  const [view, setView] = useState(\"browser\");\n  const [currentGalaxy, setCurrentGalaxy] = useState(null);\n  const [isProfileOpen, setIsProfileOpen] = useState(false);\n  const [showProfileMenu, setShowProfileMenu] = useState(false);\n\n  const stars = useMemo(() => Array.from({ length: 200 }).map(() => ({\n    x: Math.random() * 100,\n    y: Math.random() * 100,\n    size: Math.random() * 2 + 1,\n    duration: Math.random() * 3 + 2\n  })), []);\n\n  const enterGalaxy = (galaxy) => { setCurrentGalaxy(galaxy); setView(\"galaxy\"); };\n\n  const renderContent = () => {\n    if (view === \"galaxy\" && currentGalaxy) {\n      return <GalaxyViewComponent user={user} galaxy={currentGalaxy} goBack={() => { setView(\"browser\"); setCurrentGalaxy(null); }} SolarSystemGalaxy={SolarSystemGalaxy} />;\n    }\n    if (view === \"leaderboard\") return <LeaderboardComponent />;\n    return <GalaxyListComponent user={user} onEnterGalaxy={enterGalaxy} />;\n  };\n\n  return (\n    <div className=\"min-h-screen font-sans antialiased transition-colors duration-300 bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100\">\n      {/* Starry Background */}\n      <div className=\"fixed inset-0 -z-10 overflow-hidden pointer-events-none\">\n        <div className=\"absolute inset-0 bg-gradient-to-b from-gray-900 via-purple-900/20 to-gray-900\">\n          {stars.map((star, i) => (\n            <div key={i} className=\"absolute rounded-full bg-white\" style={{ left: `${star.x}%`, top: `${star.y}%`, width: `${star.size}px`, height: `${star.size}px`, opacity: 0.6, animation: `twinkle ${star.duration}s ease-in-out infinite`, animationDelay: `${Math.random()*2}s`}} />\n          ))}\n        </div>\n      </div>\n\n      {/* Header */}\n      <header className=\"sticky top-0 z-50 p-4 border-b border-gray-200 dark:border-gray-800 backdrop-blur-md bg-white/70 dark:bg-gray-900/80\">\n        <div className=\"flex items-center justify-between max-w-7xl mx-auto\">\n          <h1 className=\"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-600 cursor-pointer\" onClick={() => setView(\"browser\")}>StormBrainer üåå</h1>\n          <nav className=\"flex items-center space-x-2 sm:space-x-4\">\n            <button onClick={() => setView(\"browser\")} className={`px-3 py-1.5 text-sm font-medium rounded-lg transition-colors hidden sm:block ${view===\"browser\"?\"bg-purple-600 text-white\":\"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700\"}`}>Galaxies</button>\n            <button onClick={() => setView(\"leaderboard\")} className={`px-3 py-1.5 text-sm font-medium rounded-lg transition-colors hidden sm:block ${view===\"leaderboard\"?\"bg-yellow-500 text-gray-900\":\"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700\"}`}>Leaderboard ‚≠ê</button>\n            {/* User Menu */}\n            <div className=\"relative\">\n              <button onClick={()=>setShowProfileMenu(!showProfileMenu)} className=\"flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors\">\n                <div className=\"w-8 h-8 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center text-white font-bold text-sm\">{user.username.charAt(0).toUpperCase()}</div>\n                <div className=\"text-left hidden lg:block\">\n                  <div className=\"text-sm font-semibold text-gray-900 dark:text-white\">{user.username}</div>\n                  <div className=\"text-xs text-gray-500 dark:text-gray-400 flex items-center gap-1\"><Star size={10} fill=\"gold\" className=\"text-yellow-500\" />{user.rating||0}</div>\n                </div>\n              </button>\n              {showProfileMenu && (\n                <div className=\"absolute right-0 mt-2 w-56 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 py-2 z-50\">\n                  <button onClick={()=>{setIsProfileOpen(true); setShowProfileMenu(false)}} className=\"w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-3 text-gray-900 dark:text-white transition-colors\"><User size={16} />View Profile</button>\n                  <hr className=\"my-2 border-gray-200 dark:border-gray-700\" />\n                  <button onClick={onLogout} className=\"w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-3 text-red-600 dark:text-red-400 transition-colors\"><LogOut size={16} />Logout</button>\n                </div>\n              )}\n            </div>\n            <button onClick={()=>setDarkMode(!darkMode)} className=\"p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-800 transition-colors text-gray-700 dark:text-gray-300\">{darkMode?<Sun size={20}/>:<Moon size={20}/>}</button>\n          </nav>\n        </div>\n      </header>\n\n      <main className=\"max-w-7xl mx-auto p-4 sm:p-6\">{renderContent()}</main>\n\n      <UserProfileModal user={user} isOpen={isProfileOpen} onClose={()=>setIsProfileOpen(false)} onUpdateUser={onUpdateUser}/>\n    </div>\n  );\n};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA,OAASA,QAAQ,CAAEC,SAAS,CAAEC,OAAO,KAAQ,OAAO,CACpD,OAASC,MAAM,CAAEC,KAAK,CAAEC,WAAW,CAAEC,QAAQ,KAAQ,kBAAkB,CACvE,OAASC,OAAO,CAAEC,IAAI,CAAEC,MAAM,CAAEC,GAAG,CAAEC,IAAI,CAAEC,IAAI,KAAQ,cAAc,CAErE,MAAO,CAAAC,SAAS,KAAM,mBAAmB,CACzC,MAAO,CAAAC,YAAY,KAAM,sBAAsB,CAE/C,MAAO,CAAAC,mBAAmB,KAAM,gCAAgC,CAChE,MAAO,CAAAC,oBAAoB,KAAM,0BAA0B,CAC3D,MAAO,CAAAC,mBAAmB,KAAM,gCAAgC,CAChE,MAAO,CAAAC,gBAAgB,KAAM,oCAAoC,CACjE,OAASC,cAAc,KAAQ,gBAAgB,CAE/C;AACA;AACA;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBACA,KAAM,CAAAC,iBAAiB,CAAGC,IAAA,EAAkC,IAAjC,CAA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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}